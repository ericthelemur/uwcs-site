<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8"/>
  <title>Resources - UWCS</title>
  
  
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="icon" type="image/x-icon" href="https://owen.sites.uwcs.co.uk/uwcs/assets/favicon.png">
<link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Mulish:wght@400;500;600;700" rel="stylesheet">
<script src="https://owen.sites.uwcs.co.uk/uwcs/scripts/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="https://owen.sites.uwcs.co.uk/uwcs/icon-packs/bootstrap-icons.min.css">
<script src="https://owen.sites.uwcs.co.uk/uwcs/scripts/darkmode.js"></script>
<link rel="stylesheet" href="https://owen.sites.uwcs.co.uk/uwcs/style.css">


<link rel="stylesheet" type="text/css" href="/syntax-theme-dark.css"/>
<link rel="stylesheet" type="text/css" href="/syntax-theme-light.css"/>


  
</head>
<script>
  console.log(`{
  "config": {
    "base_url": "https://owen.sites.uwcs.co.uk/uwcs",
    "mode": "build",
    "title": null,
    "description": null,
    "languages": {},
    "default_language": "en",
    "generate_feed": false,
    "feed_filename": "atom.xml",
    "taxonomies": [
      {
        "name": "terms",
        "slug": "terms",
        "paginate_by": 5,
        "paginate_path": null,
        "render": true,
        "feed": true
      },
      {
        "name": "categories",
        "slug": "categories",
        "paginate_by": 5,
        "paginate_path": null,
        "render": true,
        "feed": true
      },
      {
        "name": "tags",
        "slug": "tags",
        "paginate_by": 5,
        "paginate_path": null,
        "render": true,
        "feed": true
      }
    ],
    "author": null,
    "build_search_index": false,
    "extra": {
      "cms_auth_url": "https://cms-auth.containers.uwcs.co.uk"
    },
    "markdown": {
      "highlight_code": true,
      "highlight_theme": "css",
      "highlight_themes_css": [
        {
          "theme": "base16-ocean-dark",
          "filename": "syntax-theme-dark.css"
        },
        {
          "theme": "base16-ocean-light",
          "filename": "syntax-theme-light.css"
        }
      ],
      "render_emoji": false,
      "external_links_target_blank": false,
      "external_links_no_follow": false,
      "external_links_no_referrer": false,
      "smart_punctuation": false,
      "extra_syntaxes_and_themes": []
    }
  },
  "current_path": "/resources/",
  "current_url": "https://owen.sites.uwcs.co.uk/uwcs/resources/",
  "lang": "en",
  "section": {
    "relative_path": "resources/_index.md",
    "colocated_path": null,
    "content": "<p>This page is a hub for most of our academic resources. Some are listed below, and you can find quick links to sub-pages along the sidebar.</p>\n<hr />\n<h1 id=\"courses\">Courses</h1>\n<h3 id=\"rust-term-1-weeks-2-5\"><a href=\"https://rs118.uwcs.co.uk\">Rust</a> (Term 1, Weeks 2-5)</h3>\n<p>Supported by a grant from the Rust foundation, this four-week course introduces Rust to those already familiar with another programming language. Throughout the course, you'll be developing some cool projects - starting with Tic-Tac-Toe in the command line, then writing a Chip-8 Interpreter, before finishing off with a Graphics Raytracing project. Runs in Term 1!</p>\n<h3 id=\"python-term-1-weeks-1-6\"><a href=\"https://go.uwcs.uk/python\">Python</a> (Term 1, Weeks 1-6)</h3>\n<p>A six-week introductory Python course, created alongside Warwick AI and Coding and running in Term 1.\nWe're responsible for Week 1 (Variables, Datatypes, &amp; Debugging) and Week 6 (Efficiency, Compactness, Readability). Clearly saving the best for first and last! We also worked jointly with AI to create &quot;Wahoot&quot;, the overarching project.</p>\n<p>Looking for booster sessions? We run them with ChemSoc in Term 1, and PhysSoc in Term 2, tailoring the content to meet their course.</p>\n<p>We'd also recommend checking out <a href=\"https://howtoprogram.dcs.warwick.ac.uk\">this tutorial</a> from the Department of Computer Science as a good starting point.</p>\n<hr />\n<h1 id=\"workshops-labs\">Workshops / Labs</h1>\n<h3 id=\"linux-101\"><a href=\"https://owen.sites.uwcs.co.uk/uwcs/resources/linux-101\">Linux 101</a></h3>\n<p><em>(DCS Only)</em> In partnership with the Department of Computer Science, this talk and accompanying lab serves as a short introduction to the Linux command line and departmental machines. We cover navigation, file/folder creation/deletion, permissions, and storage/printing quotas. By the end of this lab, you should be able to host your own public page on the DCS website!</p>\n<h3 id=\"git-good\"><a href=\"https://owen.sites.uwcs.co.uk/uwcs/resources/git-good\">Git Good</a></h3>\n<p>Git is an essential version control tool, used across the software engineering industry - from small solo projects to the world's largest tech companies. You might have used it before, but here we'll really dive in to how it works, why it's so useful, and how you can use it in your own projects going forward. Talk by Sam Coy, with an accompanying lab.</p>\n<h3 id=\"docker-contained\"><a href=\"https://owen.sites.uwcs.co.uk/uwcs/resources/docker\">Docker, Contained</a></h3>\n<hr />\n<h1 id=\"contests\">Contests</h1>\n<h3 id=\"uwcs-challenge\"><a href=\"https://challenge.uwcs.co.uk\">UWCS Challenge</a></h3>\n<p>In both teaching terms, we run our own team programming challenge. 5 custom problems, in teams of up to 3, with prizes for the top 3 teams! Past problems can be found <a href=\"https://github.com/UWCS/progcomps/releases\">here</a>. We've also designed our own online judge for automatic marking - <a href=\"https://challenge.uwcs.co.uk\">try it out</a>!</p>\n<h3 id=\"other-coding-competitions\">Other Coding Competitions</h3>\n<p>We promote and encourage participation in events like Advent of Code, the International Collegiate Programming Contest (ICPC), and <del>Google Hash Code</del> (rip). We also invite companies in to give their own programming challenges, such as G-Research.</p>\n<h3 id=\"capture-the-flag-ctf-events\">Capture The Flag (CTF) Events</h3>\n<p>We've hosted CTFs from both Nettitude and BAE Systems. The Cyber Security society also host a few of their own!</p>\n<hr />\n<h1 id=\"talks\">Talks</h1>\n<p>We upload most past talks to our <a href=\"https://www.youtube.com/@warwickcomputing\">YouTube</a> channel.</p>\n<h3 id=\"lightning-talks\">Lightning Talks</h3>\n<p>Hosted twice every term - sessions of three 15-minute student talks across a wide array of computing-related topics. Check out the play-list below! We're always happy to accept new talks, so get in touch if you think you've got a cool idea.</p>\n\n\n<div class=\"ratio ratio-16x9 m-3 w-75 mx-auto \">\n    <iframe src=\"https://www.youtube-nocookie.com/embed/videoseries?list=PLM7py5yAB4FxS3FzpBD4BA29M6Ue5qyVe\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n</div><h3 id=\"third-year-project-talks\">Third Year Project Talks</h3>\n<p>We gathered a bunch of third year students with projects covering a range of different areas across the field, and convinced them to present their projects to you! Topics included machine learning, virtual reality, algorithms, computer security, and general software engineering. Each talk was followed by a Q&amp;A, with tips and advice offered throughout. Thanks to the Department of Computer Science, and especially Greg, for supporting the event!</p>\n\n\n<div class=\"ratio ratio-16x9 m-3 w-75 mx-auto \">\n    <iframe src=\"https://www.youtube-nocookie.com/embed/0NJa_eU88so\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n</div><h3 id=\"industry-talks\">Industry Talks</h3>\n<p>We also offer longer talks from industry professionals, across a wide range of companies. Check out Leo's 'Day in the life of a Software Engineer' talk below!</p>\n\n\n<div class=\"ratio ratio-16x9 m-3 w-75 mx-auto \">\n    <iframe src=\"https://www.youtube-nocookie.com/embed/videoseries?list=PLM7py5yAB4FyUtnZ26D9uikX0DhhwyoTg\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n</div>\n<hr />\n<h2 id=\"misc\">Misc</h2>\n<h4 id=\"discord-guide\"><a href=\"https://uwcs.co.uk/documents/9/UWCS_Discord_Guide.pdf\">Discord Guide</a></h4>\n<p>For those who need help navigating around Discord, a previous cohort of exec made this comprehensive guide to the platform and our server.</p>\n<h4 id=\"remoting-into-dcs\"><a href=\"https://uwcs.co.uk/resources/remotedcs/\">Remoting into DCS</a></h4>\n<p><em>(DCS Only)</em> A brief guide on how to remotely connect to the Department of Computer Science Linux PCs via the command line.</p>\n",
    "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/",
    "draft": false,
    "ancestors": [
      "_index.md"
    ],
    "title": "Resources",
    "description": null,
    "extra": {},
    "path": "/resources/",
    "components": [
      "resources"
    ],
    "toc": [
      {
        "level": 1,
        "id": "courses",
        "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/#courses",
        "title": "Courses",
        "children": [
          {
            "level": 3,
            "id": "rust-term-1-weeks-2-5",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/#rust-term-1-weeks-2-5",
            "title": "Rust (Term 1, Weeks 2-5)",
            "children": []
          },
          {
            "level": 3,
            "id": "python-term-1-weeks-1-6",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/#python-term-1-weeks-1-6",
            "title": "Python (Term 1, Weeks 1-6)",
            "children": []
          }
        ]
      },
      {
        "level": 1,
        "id": "workshops-labs",
        "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/#workshops-labs",
        "title": "Workshops / Labs",
        "children": [
          {
            "level": 3,
            "id": "linux-101",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/#linux-101",
            "title": "Linux 101",
            "children": []
          },
          {
            "level": 3,
            "id": "git-good",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/#git-good",
            "title": "Git Good",
            "children": []
          },
          {
            "level": 3,
            "id": "docker-contained",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/#docker-contained",
            "title": "Docker, Contained",
            "children": []
          }
        ]
      },
      {
        "level": 1,
        "id": "contests",
        "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/#contests",
        "title": "Contests",
        "children": [
          {
            "level": 3,
            "id": "uwcs-challenge",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/#uwcs-challenge",
            "title": "UWCS Challenge",
            "children": []
          },
          {
            "level": 3,
            "id": "other-coding-competitions",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/#other-coding-competitions",
            "title": "Other Coding Competitions",
            "children": []
          },
          {
            "level": 3,
            "id": "capture-the-flag-ctf-events",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/#capture-the-flag-ctf-events",
            "title": "Capture The Flag (CTF) Events",
            "children": []
          }
        ]
      },
      {
        "level": 1,
        "id": "talks",
        "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/#talks",
        "title": "Talks",
        "children": [
          {
            "level": 3,
            "id": "lightning-talks",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/#lightning-talks",
            "title": "Lightning Talks",
            "children": []
          },
          {
            "level": 3,
            "id": "third-year-project-talks",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/#third-year-project-talks",
            "title": "Third Year Project Talks",
            "children": []
          },
          {
            "level": 3,
            "id": "industry-talks",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/#industry-talks",
            "title": "Industry Talks",
            "children": []
          },
          {
            "level": 2,
            "id": "misc",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/#misc",
            "title": "Misc",
            "children": [
              {
                "level": 4,
                "id": "discord-guide",
                "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/#discord-guide",
                "title": "Discord Guide",
                "children": []
              },
              {
                "level": 4,
                "id": "remoting-into-dcs",
                "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/#remoting-into-dcs",
                "title": "Remoting into DCS",
                "children": []
              }
            ]
          }
        ]
      }
    ],
    "word_count": 688,
    "reading_time": 4,
    "lang": "en",
    "assets": [
      "/resources/ssh-term.png"
    ],
    "pages": [
      {
        "relative_path": "resources/docker.md",
        "colocated_path": null,
        "content": "<p>We’re going to make a super simple web API using Python and Flask, containerise it with Docker, set up continuous integration with Github Actions, and then deploy it using Docker too.</p>\n<hr />\n<h2 id=\"a-python-project\">A Python Project</h2>\n<p>Login to the DCS machines, create a new directory called <code>my-flask-app</code> and cd into it. </p>\n<p>We’re going to use <a href=\"https://pipenv.pypa.io/en/latest/\">pipenv</a> to create a new python project. Pipenv manages dependencies and virtual environments for us, making it much more ergonomic than just using pip and virtualenvs manually. Install it with <code>python3.9 -m pip install --user pipenv</code>.  You can then invoke pipenv with <code>python3.9 -m pipenv &lt;subcommand&gt;</code>. Add <a href=\"https://flask.palletsprojects.com/en/2.2.x/\">Flask</a> to your project with <code>python 3.9 -m pipenv install flask</code>.</p>\n<p>There’s another dependency that we’ll need later on as well: <a href=\"https://gunicorn.org/\">gunicorn</a>. Gunicorn is a Python HTTP server, and will serve our Flask app for us: <code>pipenv install gunicorn</code>.</p>\n<p>Also initalise your folder as a git repo: <code>git init</code>.</p>\n<h3 id=\"flask\">Flask</h3>\n<p>Create a new Python file called <code>app.py</code>, and inside it add the following code:</p>\n<pre data-lang=\"python\" class=\"language-python z-code\"><code class=\"language-python\" data-lang=\"python\"><span class=\"z-source z-python\"><span class=\"z-meta z-statement z-import z-python\"><span class=\"z-keyword z-control z-import z-from z-python\">from</span></span><span class=\"z-meta z-statement z-import z-python\"><span class=\"z-meta z-import-source z-python\"> <span class=\"z-meta z-import-path z-python\"><span class=\"z-meta z-import-name z-python\">flask</span></span> <span class=\"z-meta z-statement z-import z-python\"><span class=\"z-keyword z-control z-import z-python\">import</span></span></span></span><span class=\"z-meta z-statement z-import z-python\"></span><span class=\"z-meta z-statement z-import z-python\"> <span class=\"z-meta z-generic-name z-python\">Flask</span></span>\n\n<span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">app</span></span> <span class=\"z-keyword z-operator z-assignment z-python\">=</span> <span class=\"z-meta z-function-call z-python\"><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-variable z-function z-python\"><span class=\"z-meta z-generic-name z-python\">Flask</span></span></span></span><span class=\"z-meta z-function-call z-arguments z-python\"><span class=\"z-punctuation z-section z-arguments z-begin z-python\">(</span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-support z-variable z-magic z-python\">__name__</span></span><span class=\"z-punctuation z-section z-arguments z-end z-python\">)</span></span>\n\n<span class=\"z-meta z-annotation z-python\"><span class=\"z-punctuation z-definition z-annotation z-python\">@</span><span class=\"z-meta z-annotation z-function z-python\"></span></span><span class=\"z-meta z-annotation z-function z-python\"><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">app</span></span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-punctuation z-accessor z-dot z-python\">.</span></span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-variable z-annotation z-function z-python\"><span class=\"z-meta z-generic-name z-python\">route</span></span></span></span><span class=\"z-meta z-annotation z-function z-python\"><span class=\"z-punctuation z-section z-arguments z-begin z-python\">(</span></span><span class=\"z-meta z-annotation z-arguments z-python\"><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">/<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span></span><span class=\"z-meta z-annotation z-function z-python\"><span class=\"z-punctuation z-section z-arguments z-end z-python\">)</span></span>\n<span class=\"z-meta z-function z-python\"><span class=\"z-storage z-type z-function z-python\"><span class=\"z-keyword z-declaration z-function z-python\">def</span></span> <span class=\"z-entity z-name z-function z-python\"><span class=\"z-meta z-generic-name z-python\">hello</span></span></span><span class=\"z-meta z-function z-parameters z-python\"><span class=\"z-punctuation z-section z-parameters z-begin z-python\">(</span></span><span class=\"z-meta z-function z-parameters z-python\"><span class=\"z-punctuation z-section z-parameters z-end z-python\">)</span></span><span class=\"z-meta z-function z-python\"><span class=\"z-punctuation z-section z-function z-begin z-python\">:</span></span>\n\t<span class=\"z-keyword z-control z-flow z-return z-python\">return</span> <span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">Hello, World!<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span>\n</span></code></pre>\n<p>This is the most simple Flask app possible. The <code>app</code> variable refers to an object that encapsulates your app and all it's API routes, and then we create a new route that returns simply the text “Hello, world”. Customise the string so your app is unique to you.</p>\n<p>You can start your app with <code>pipenv run flask run</code>: this will start the flask <em>development</em> server within the python environment that pipenv has created. Head to the URL that is printed in the terminal and you will see your response. </p>\n<p>(Note how the development server prints a message about using a production WSGI server instead? That's where gunicorn will come in.)</p>\n<p>Congrats, you’ve created your very own web app! Commit this to Git, and then create a new GitHub repo and push your commit.</p>\n<hr />\n<h2 id=\"docker\">Docker</h2>\n<h3 id=\"writing-a-dockerfile\">Writing a Dockerfile</h3>\n<p>So you can run your app on your computer, but will it be able to run on someone elses computer? We’re going to build something that will allow anyone to run your app anywhere, on any machine, with no* (*minimal) setup or installation required.</p>\n<p>The way Docker works is you build an <em>image</em>, which contains everything we need to run the container, using <code>docker build</code>. We then do <code>docker run</code>, which takes your image and starts a container, which is just a process on your machine but isolated from the rest of the system. When we create a docker image, we're building up a mini-system within the host system, so we need to install anything that our program will depend on.</p>\n<p>That's the short version, see <a href=\"https://docs.docker.com/get-started/\">https://docs.docker.com/get-started/</a> for more: the way Docker works within the Linux kernel is very interesting.</p>\n<p>Create a file called <code>Dockerfile</code>, which is where the description of our container image will go. We’ll create our Dockerfile line by line.</p>\n<p>The first line is</p>\n<pre data-lang=\"docker\" class=\"language-docker z-code\"><code class=\"language-docker\" data-lang=\"docker\"><span class=\"z-text z-plain\">FROM python:3.9\n</span></code></pre>\n<p>Here, we give Docker a name of another image that we want to use as a base for our image. We’re using the Python one from Docker hub: <a href=\"https://hub.docker.com/_/python\">https://hub.docker.com/_/python</a>, version 3.9. Docker hub is container registry, where people publish images for others to use.</p>\n<p>The next thing we want to do is install pipenv so we can use it within our container. Remember that container builds are isolated from the rest of the system, so any tools we want to use we need to install in our container:</p>\n<pre data-lang=\"docker\" class=\"language-docker z-code\"><code class=\"language-docker\" data-lang=\"docker\"><span class=\"z-text z-plain\">RUN pip install pipenv\n</span></code></pre>\n<p>The <code>RUN</code> command tells docker to execute a command as part of the build process.</p>\n<p>Next we set our working directory within the container. Containers have their own file system which is separate from ours, so we make use of that. </p>\n<pre data-lang=\"dockerfile\" class=\"language-dockerfile z-code\"><code class=\"language-dockerfile\" data-lang=\"dockerfile\"><span class=\"z-source z-dockerfile\">WORKDIR /app\n</span></code></pre>\n<p>To run our code within the container, we need to copy the contents of our project into it. We copy everything in the current directory (our project directory), which docker calls the <em>build context</em>, from the host to the container:</p>\n<pre data-lang=\"dockerfile\" class=\"language-dockerfile z-code\"><code class=\"language-dockerfile\" data-lang=\"dockerfile\"><span class=\"z-source z-dockerfile\">COPY . .\n</span></code></pre>\n<p>We need to use pipenv to install the dependencies for our project within the container, so another <code>RUN</code> command. We use the <code>--system</code> flag to install our dependencies to the global Python environment instead of creating a virtual environment. We’re in a container which is an isolated environment itself, so there’s no need for virtualenvs.</p>\n<pre data-lang=\"dockerfile\" class=\"language-dockerfile z-code\"><code class=\"language-dockerfile\" data-lang=\"dockerfile\"><span class=\"z-source z-dockerfile\">RUN pipenv install --system\n</span></code></pre>\n<p>We’ve set up everything we need for our app, so now we tell Docker how to run it. The <code>CMD</code> command tells the container how to start the process when we do <code>docker run</code>. We want to use gunicorn to start our flask app as a HTTP server. We do this instead of using the development server, <a href=\"https://stackoverflow.com/questions/12269537/is-the-server-bundled-with-flask-safe-to-use-in-production\">because using the development server for production is bad</a></p>\n<pre data-lang=\"docker\" class=\"language-docker z-code\"><code class=\"language-docker\" data-lang=\"docker\"><span class=\"z-text z-plain\">CMD gunicorn app:app -b 0.0.0.0:8080\n</span></code></pre>\n<p>We tell gunicorn to run <code>app:app</code>, which means the Flask application called <code>app</code> within the file <code>app</code> that we created (confusing, I know). We also tell it to listen for connections from on  <code>0.0.0.0:8080</code>, which means the server will accept connections on port <code>8080</code>.</p>\n<p>Your complete dockerfile should look like this:</p>\n<pre data-lang=\"docker\" class=\"language-docker z-code\"><code class=\"language-docker\" data-lang=\"docker\"><span class=\"z-text z-plain\">FROM python:3.9\nRUN pip install pipenv\nWORKDIR /app\nCOPY . .\nRUN pipenv install --system\nCMD gunicorn app:app -b 0.0.0.0:8080\n</span></code></pre>\n<p>DCS have something called <code>podman</code> installed, which is a docker-compatible container tool, so we’ll make use of that. Run <code>podman build -t myapp .</code> to build your container and tag it with the name  ‘myapp’.</p>\n<h3 id=\"running-a-container\">Running a Container</h3>\n<p>You can now start your app with <code>podman run myapp</code>. You’ll see gunicorn starting up, and then head to <code>localhost:8080</code> in your browser to see your hello world message again.</p>\n<p>This won’t work: why? We said that containers are isolated from their host, which includes networking and ports. We need to explicitly expose ports from the container to the host when we start it.</p>\n<p>We’re going to use a different command to start the container.</p>\n<pre class=\"z-code\"><code><span class=\"z-text z-plain\">podman run -d -p &#39;8080:8080&#39; myapp\n</span></code></pre>\n<p>The <code>-d</code> flag tells podman to start the container in the background. The <code>-p '8080:8080'</code> flag tells podman that we want to map port 8080 on the host to port 8080 on the container. You can now head to <code>localhost:8080</code> in your browser to see your ‘Hello, world’ message!</p>\n<p>A few other useful podman commands:</p>\n<ul>\n<li><code>podman ps</code> will show all running containers and their names</li>\n<li><code>podman logs</code> will show the logs from any running containers</li>\n<li><code>podman attach</code> will attach to a running container</li>\n</ul>\n<p>Create a new Git commit with your Dockerfile and push it.</p>\n<hr />\n<h2 id=\"github-actions\">GitHub Actions</h2>\n<p>So we can build and run a container image, how do we share it with other people so everyone else can run our amazing app too? We mentioned container registries earlier, and we’re going to use the Github Container Registry, or <code>ghcr.io</code>.</p>\n<p>Github Actions is a platform built into GitHub that allows you to automate software and deployment workflows for continuous integration and deployment (CI/CD). We’re going to create a simple workflow that builds and publishes our image for us every time we push new code to GitHub. Make sure your repo is public, or you might need to add some extra config to the workflow file.</p>\n<p>Create a new file at <code>.github/workflows/ci.yml</code> with the following contents:</p>\n<pre data-lang=\"yaml\" class=\"language-yaml z-code\"><code class=\"language-yaml\" data-lang=\"yaml\"><span class=\"z-source z-yaml\"><span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">name</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">CI</span> <span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> the name of our workflow is &#39;CI&#39;\n</span>\n<span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> run this workflow when we push to the &#39;main&#39; branch\n</span><span class=\"z-constant z-language z-boolean z-yaml\">on</span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span>\t\n  <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">push</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span>\n    <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">branches</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-meta z-flow-sequence z-yaml\"><span class=\"z-punctuation z-definition z-sequence z-begin z-yaml\">[</span><span class=\"z-string z-unquoted z-plain z-in z-yaml\">main</span><span class=\"z-punctuation z-definition z-sequence z-end z-yaml\">]</span></span>\n\n<span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> the list of jobs in this workflow\n</span><span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">jobs</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span>\n\n<span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> define a job\n</span>  <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">build</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> \n    <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">name</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">Build and Push Container Image</span> <span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> the job&#39;s full name\n</span>    <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">runs-on</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">ubuntu-latest</span> <span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> the OS that this job runs on\n</span>\t\t\n\t<span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> we need write permissions to publish the package\n</span>    <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">permissions</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> \n      <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">packages</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">write</span>\n\t\t\t\n\t<span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> the steps that this job consists of\n</span>    <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">steps</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span>\n\t  <span class=\"z-punctuation z-definition z-block z-sequence z-item z-yaml\">-</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">uses</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">actions/checkout@v3</span> <span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> check out our repo\n</span>\t  \n\t  <span class=\"z-punctuation z-definition z-block z-sequence z-item z-yaml\">-</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">name</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">Log in to the container registry</span>\n        <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">uses</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">docker/login-action@v2</span>\n        <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">with</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span>\n          <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">registry</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">ghcr.io</span>\n          <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">username</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">${{ github.repository_owner }}</span>\n          <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">password</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">${{ secrets.GITHUB_TOKEN }}</span>\n\n\t\t<span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> generate the tags that we&#39;ll use to name our image\n</span>      <span class=\"z-punctuation z-definition z-block z-sequence z-item z-yaml\">-</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">name</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">Get Docker metadata</span>\n        <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">id</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">meta</span>\n        <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">uses</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">docker/metadata-action@v4</span>\n        <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">with</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span>\n          <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">images</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">ghcr.io/${{ github.repository }}</span>\n          <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">tags</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-keyword z-control z-flow z-block-scalar z-literal z-yaml\">|</span> <span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> tag with commit hash and with &#39;latest&#39;\n</span><span class=\"z-string z-unquoted z-block z-yaml\">            type=sha \n            type=raw,value=latest,enable={{is_default_branch}}\n\t\t\n</span>\t\t<span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> build and push our image, using output from previous step\n</span>      <span class=\"z-punctuation z-definition z-block z-sequence z-item z-yaml\">-</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">name</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">Build and push Docker image</span>\n        <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">uses</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">docker/build-push-action@v3</span>\n        <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">with</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span>\n          <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">context</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-constant z-numeric z-float z-decimal z-yaml\"><span class=\"z-punctuation z-separator z-decimal z-yaml\">.</span></span>\n          <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">push</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-constant z-language z-boolean z-yaml\">true</span>\n          <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">tags</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">${{ steps.meta.outputs.tags }}</span>\n          <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">labels</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">${{ steps.meta.outputs.labels }}</span>\n</span></code></pre>\n<p>GitHub Actions workflows are comprised of multiple jobs, which themselves consist of multiple steps. This workflow will be run by GitHub every time you push to your <code>main</code> branch. Here, we define a single job, <code>build</code>, with 4 steps:</p>\n<ul>\n<li>Check out our repository</li>\n<li>Log in to the container registry</li>\n<li>Generate the metadata for our image (tags, labels)</li>\n<li>Build and push the image</li>\n</ul>\n<p>Steps usually use workflows provided by other people. Here, we’re using workflows provided by docker to define our steps (the <code>uses</code> key). The <code>with</code> defines the inputs to those workflows.</p>\n<p>GitHub Actions is a very large topic and can be very confusing, but this simple workflow file will be enough to get us started for now. Have a look at the <a href=\"https://github.com/UWCS/apollo/blob/master/.github/workflows/ci.yaml\">workflow files for Apollo</a> if you want a larger example.</p>\n<p>Commit your file and push it to GitHub. Go to the actions tab, and you should see your workflow being run. Once it’s complete, the built image should should appear in the right sidebar of your repo’s homepage under ‘Packages’. You might need to mess with your package settings to make it public, <a href=\"https://docs.github.com/en/packages/learn-github-packages/configuring-a-packages-access-control-and-visibility\">see here for more info</a>.</p>\n<p>This is great because now you can run anyone else’s app on your machine easily: <code>podman run ghcr.io/&lt;github name&gt;/&lt;repo name&gt;:latest</code> will pull down their image and run it. Don’t forget to add the port mapping in your <code>run</code> command!</p>\n<hr />\n<h2 id=\"deployment-portainer\">Deployment (Portainer)</h2>\n<p>So we have our app, it's published and anyone can run it anywhere. What if we want to host it somewhere so it's available all the time? There are lots of container hosting platforms out there, but we actually have our own that is set up using <a href=\"https://www.portainer.io/\">Portainer</a>, available for members of the society to use. Head to <a href=\"https://portainer.uwcs.co.uk\">https://portainer.uwcs.co.uk</a> and log in with your UWCS account. If you've forgotten your details or can't log in then talk to Joey or skiros (or email tech@uwcs.co.uk if you're reading this on our website after the session).</p>\n<p>Portainer provides a nice interface for setting up containers running as services. Click on 'UWCS Public Docker' to access our shared Portainer environment. Click containers, then click the blue 'add container' button in the top right.</p>\n<p>Fill out the details to use your image to start a new container. This screen is essentially configuring your <code>podman run</code> command but with a GUI. Put the name of your image in the 'image name' field, and under 'network ports configuration', map a random port (above 10000) to 8080 in the container. </p>\n<p>To map your port to a domain name, add an container <em>label</em> that maps the key <code>traefik.http.routers.NAME.rule</code> to the value <code>Host(``NAME.containers.uwcs.uk``)</code>. Replace NAME with your name. Use a single backtick where I've used double, this markdown renderer fucking sucks.</p>\n<p>Give your container a name as well, something descriptive. See <a href=\"https://docs.portainer.io/user/docker/services/configure\">https://docs.portainer.io/user/docker/services/configure</a> for the full documentation on how to configure a service.</p>\n<p>Start your container and it should pull your image and spin up. If it doesn't work then you're probably trying to use a port that someone else is already using on the host, so try another one. You should be able to see your running container. Try accessing the logs, and you can even start a new shell within it by clicking 'console' under 'container status'.</p>\n<p>Head to <a href=\"https://yourname.containers.uwcs.uk\">https://yourname.containers.uwcs.uk</a>, and your app should be accessible from the outside world.</p>\n<hr />\n<h2 id=\"bonus-persistent-data-with-volumes\">Bonus: Persistent Data with Volumes</h2>\n<p>Let's get slightly more fancy with some HTTP stuff. Update your route handler so that it looks like below. The idea is that our message is read from a file, and we can update the contents of the file by POSTing to the URL.</p>\n<pre data-lang=\"python\" class=\"language-python z-code\"><code class=\"language-python\" data-lang=\"python\"><span class=\"z-source z-python\"><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">file_location</span></span> <span class=\"z-keyword z-operator z-assignment z-python\">=</span> <span class=\"z-meta z-function-call z-python\"><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-variable z-function z-python\"><span class=\"z-meta z-generic-name z-python\">getenv</span></span></span></span><span class=\"z-meta z-function-call z-arguments z-python\"><span class=\"z-punctuation z-section z-arguments z-begin z-python\">(</span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">MSG_FILE_LOCATION<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span><span class=\"z-punctuation z-separator z-arguments z-python\">,</span> <span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">msg.txt<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span><span class=\"z-punctuation z-section z-arguments z-end z-python\">)</span></span>\n\n<span class=\"z-meta z-annotation z-python\"><span class=\"z-punctuation z-definition z-annotation z-python\">@</span><span class=\"z-meta z-annotation z-function z-python\"></span></span><span class=\"z-meta z-annotation z-function z-python\"><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">app</span></span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-punctuation z-accessor z-dot z-python\">.</span></span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-variable z-annotation z-function z-python\"><span class=\"z-meta z-generic-name z-python\">route</span></span></span></span><span class=\"z-meta z-annotation z-function z-python\"><span class=\"z-punctuation z-section z-arguments z-begin z-python\">(</span></span><span class=\"z-meta z-annotation z-arguments z-python\"><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">/<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span><span class=\"z-punctuation z-separator z-arguments z-python\">,</span> <span class=\"z-variable z-parameter z-python\">methods</span><span class=\"z-keyword z-operator z-assignment z-python\">=</span><span class=\"z-meta z-sequence z-list z-python\"><span class=\"z-punctuation z-section z-sequence z-begin z-python\">[</span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">GET<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span><span class=\"z-punctuation z-separator z-sequence z-python\">,</span> <span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">POST<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span><span class=\"z-punctuation z-section z-sequence z-end z-python\">]</span></span></span><span class=\"z-meta z-annotation z-function z-python\"><span class=\"z-punctuation z-section z-arguments z-end z-python\">)</span></span>\n<span class=\"z-meta z-function z-python\"><span class=\"z-storage z-type z-function z-python\"><span class=\"z-keyword z-declaration z-function z-python\">def</span></span> <span class=\"z-entity z-name z-function z-python\"><span class=\"z-meta z-generic-name z-python\">hello</span></span></span><span class=\"z-meta z-function z-parameters z-python\"><span class=\"z-punctuation z-section z-parameters z-begin z-python\">(</span></span><span class=\"z-meta z-function z-parameters z-python\"><span class=\"z-punctuation z-section z-parameters z-end z-python\">)</span></span><span class=\"z-meta z-function z-python\"><span class=\"z-punctuation z-section z-function z-begin z-python\">:</span></span>\n    <span class=\"z-meta z-statement z-conditional z-if z-python\"><span class=\"z-keyword z-control z-conditional z-if z-python\">if</span> <span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">request</span><span class=\"z-punctuation z-accessor z-dot z-python\">.</span><span class=\"z-meta z-generic-name z-python\">method</span></span> <span class=\"z-keyword z-operator z-comparison z-python\">==</span> <span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">POST<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span><span class=\"z-punctuation z-section z-block z-conditional z-if z-python\">:</span></span>\n        <span class=\"z-meta z-statement z-with z-python\"><span class=\"z-keyword z-control z-flow z-with z-python\">with</span> <span class=\"z-meta z-function-call z-python\"><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-variable z-function z-python\"><span class=\"z-support z-function z-builtin z-python\">open</span></span></span></span><span class=\"z-meta z-function-call z-arguments z-python\"><span class=\"z-punctuation z-section z-arguments z-begin z-python\">(</span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">file_location</span></span><span class=\"z-punctuation z-separator z-arguments z-python\">,</span> <span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">wb+<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span><span class=\"z-punctuation z-section z-arguments z-end z-python\">)</span></span> <span class=\"z-meta z-statement z-with z-python\"><span class=\"z-keyword z-control z-flow z-with z-as z-python\">as</span></span></span><span class=\"z-meta z-statement z-with z-python\"> <span class=\"z-meta z-generic-name z-python\">f</span><span class=\"z-punctuation z-section z-block z-with z-python\">:</span></span>\n            <span class=\"z-meta z-function-call z-python\"><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">f</span></span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-punctuation z-accessor z-dot z-python\">.</span></span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-variable z-function z-python\"><span class=\"z-meta z-generic-name z-python\">write</span></span></span></span><span class=\"z-meta z-function-call z-arguments z-python\"><span class=\"z-punctuation z-section z-arguments z-begin z-python\">(</span><span class=\"z-meta z-function-call z-python\"><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">request</span></span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-punctuation z-accessor z-dot z-python\">.</span></span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-variable z-function z-python\"><span class=\"z-meta z-generic-name z-python\">get_data</span></span></span></span><span class=\"z-meta z-function-call z-arguments z-python\"><span class=\"z-punctuation z-section z-arguments z-begin z-python\">(</span><span class=\"z-punctuation z-section z-arguments z-end z-python\">)</span></span><span class=\"z-punctuation z-section z-arguments z-end z-python\">)</span></span>\n        <span class=\"z-keyword z-control z-flow z-return z-python\">return</span> <span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">Successfully updated message<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span>\n    <span class=\"z-meta z-statement z-conditional z-elseif z-python\"><span class=\"z-keyword z-control z-conditional z-elseif z-python\">elif</span> <span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">request</span><span class=\"z-punctuation z-accessor z-dot z-python\">.</span><span class=\"z-meta z-generic-name z-python\">method</span></span> <span class=\"z-keyword z-operator z-comparison z-python\">==</span> <span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">GET<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span><span class=\"z-punctuation z-section z-block z-conditional z-elseif z-python\">:</span></span>\n        <span class=\"z-meta z-statement z-exception z-try z-python\"><span class=\"z-keyword z-control z-exception z-try z-python\">try</span><span class=\"z-punctuation z-section z-block z-exception z-try z-python\">:</span></span>\n            <span class=\"z-meta z-statement z-with z-python\"><span class=\"z-keyword z-control z-flow z-with z-python\">with</span> <span class=\"z-meta z-function-call z-python\"><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-variable z-function z-python\"><span class=\"z-support z-function z-builtin z-python\">open</span></span></span></span><span class=\"z-meta z-function-call z-arguments z-python\"><span class=\"z-punctuation z-section z-arguments z-begin z-python\">(</span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">file_location</span></span><span class=\"z-punctuation z-separator z-arguments z-python\">,</span> <span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">rb<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span><span class=\"z-punctuation z-section z-arguments z-end z-python\">)</span></span> <span class=\"z-meta z-statement z-with z-python\"><span class=\"z-keyword z-control z-flow z-with z-as z-python\">as</span></span></span><span class=\"z-meta z-statement z-with z-python\"> <span class=\"z-meta z-generic-name z-python\">f</span><span class=\"z-punctuation z-section z-block z-with z-python\">:</span></span>\n                <span class=\"z-keyword z-control z-flow z-return z-python\">return</span> <span class=\"z-meta z-function-call z-python\"><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">f</span></span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-punctuation z-accessor z-dot z-python\">.</span></span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-variable z-function z-python\"><span class=\"z-meta z-generic-name z-python\">read</span></span></span></span><span class=\"z-meta z-function-call z-arguments z-python\"><span class=\"z-punctuation z-section z-arguments z-begin z-python\">(</span><span class=\"z-punctuation z-section z-arguments z-end z-python\">)</span></span>\n        <span class=\"z-meta z-statement z-exception z-catch z-python\"><span class=\"z-keyword z-control z-exception z-catch z-python\">except</span> <span class=\"z-support z-type z-exception z-python\">FileNotFoundError</span><span class=\"z-punctuation z-section z-block z-exception z-catch z-python\">:</span></span>\n            <span class=\"z-keyword z-control z-flow z-return z-python\">return</span> <span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">No message found<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span>\n</span></code></pre>\n<p>Try this out running locally without docker. To send a post request with some data, use <code>curl -X POST -d &quot;test data&quot; &lt;url&gt;</code>. You should see the file being updated on your filesystem, and the message file will persist between application restarts. Note how we can also set the location of the file using an environment variable, but it will fall back to the default if unset.</p>\n<p>Remember how Docker containers have their own isolated filesystem? If we were to run this within Docker, every time we re-created our container to update it or change the config, the message would be lost. Fortunately, we can use <a href=\"https://docs.docker.com/storage/volumes/\">Docker Volumes</a> to persist data within containers, like mini storage drives that we can mount in containers.</p>\n<p>Commit and push your code to GitHub, wait for the image to build in CI, then re-deploy in Portainer, pulling the latest image. This should work using the default file location of <code>msg.txt</code>, but if you destroy the container and re-created it, your message will not be saved.</p>\n<p>In Portainer, click on volumes in the sidebar and create a new volume, call it 'message_data' or something. Next, go back to your running service container, and click 'duplicate/edit'. Scroll down to advanced settings, click volumes, and map your new volume to <code>/mnt/message_data</code> within the container. Head to environment variables and set <code>MSG_FILE_LOCATION</code> to <code>/mnt/message_data/msg.txt</code> so that Flask knows to put your message file within the mounted volume. Check the Portainer docs if you need more info on how to do this.</p>\n<p>Start your container and POST a new message to your service, then make a GET request to get it back. Head back to your volume in the portainer UI and you should see your message file there. You can download it, or upload a different message file too. Destroy and re-create your container, you should notice that the message file is persisted in there too.</p>\n<hr />\n<h2 id=\"the-end\">The End*</h2>\n<p><strong>Welcome to the end of the lab!</strong> You're free to leave if you want, but maybe you could spend a bit of time improving that flask app of yours... for example, adding some buttons or a persistent counter, or CSS, or even a database - and make sure you can build and deploy it with those changes.</p>\n<p>The kind of workflow you've just set up for building and deploying a service is very similar to how major tech companies really do this kind of thing. Docker is a really powerful tool for deploying services and making them portable, and we've only scratched the surface of it here.</p>\n<p>Something we'd definitely recommend taking a look at is Docker Compose. Compose allows you to spin up multiple containers with a pre-configured run command using just <code>docker compose up</code>, which is especially useful if you want to, for example, bring up a database container at the same time as your application. Check out the tutorial: <a href=\"https://docs.docker.com/compose/gettingstarted/\">https://docs.docker.com/compose/gettingstarted/</a></p>\n<p>If you're doing CS261 then these skills may come in handy: being able to set up a docker image makes it easy to work on software in a team where everyone may have different setups, and having a live deployment of your project running on a container host with a setup like you just built is useful too. You can even get Portainer and GitHub Actions to automatically re-deploy the latest version of your image every time you push code! (CI/CD is a hell of a drug)</p>\n<p>And, as always, feel free to make use of our hosting services. See <a href=\"https://techteam.uwcs.co.uk\">https://techteam.uwcs.co.uk</a> for our wiki with more details on what we provide, or talk to one of our tech team.</p>\n",
        "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/docker/",
        "slug": "docker",
        "ancestors": [
          "_index.md",
          "resources/_index.md"
        ],
        "title": "Docker, Contained",
        "description": null,
        "updated": null,
        "date": "2023-01-18",
        "year": 2023,
        "month": 1,
        "day": 18,
        "taxonomies": {},
        "authors": [],
        "extra": {},
        "path": "/resources/docker/",
        "components": [
          "resources",
          "docker"
        ],
        "summary": null,
        "toc": [
          {
            "level": 2,
            "id": "a-python-project",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/docker/#a-python-project",
            "title": "A Python Project",
            "children": [
              {
                "level": 3,
                "id": "flask",
                "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/docker/#flask",
                "title": "Flask",
                "children": []
              }
            ]
          },
          {
            "level": 2,
            "id": "docker",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/docker/#docker",
            "title": "Docker",
            "children": [
              {
                "level": 3,
                "id": "writing-a-dockerfile",
                "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/docker/#writing-a-dockerfile",
                "title": "Writing a Dockerfile",
                "children": []
              },
              {
                "level": 3,
                "id": "running-a-container",
                "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/docker/#running-a-container",
                "title": "Running a Container",
                "children": []
              }
            ]
          },
          {
            "level": 2,
            "id": "github-actions",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/docker/#github-actions",
            "title": "GitHub Actions",
            "children": []
          },
          {
            "level": 2,
            "id": "deployment-portainer",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/docker/#deployment-portainer",
            "title": "Deployment (Portainer)",
            "children": []
          },
          {
            "level": 2,
            "id": "bonus-persistent-data-with-volumes",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/docker/#bonus-persistent-data-with-volumes",
            "title": "Bonus: Persistent Data with Volumes",
            "children": []
          },
          {
            "level": 2,
            "id": "the-end",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/docker/#the-end",
            "title": "The End*",
            "children": []
          }
        ],
        "word_count": 2722,
        "reading_time": 14,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lower": null,
        "higher": {
          "relative_path": "resources/remote.md",
          "colocated_path": null,
          "content": "<h3 id=\"connection-address\">Connection Address:</h3>\n<p><strong><code>uXXXXXXX@remote-YY.dcs.warwick.ac.uk</code></strong><br />\nwhere the X's are replaced by your full 7-digit university id, and the Y's by the last two digits of it.</p>\n<h3 id=\"making-a-connection\">Making a Connection:</h3>\n<p>The steps you need to follow at the start will slightly vary depending on your operating system.</p>\n<h4 id=\"windows-mac-linux\">Windows/Mac/Linux</h4>\n<ol>\n<li>On Windows, open up the <strong>Command Prompt</strong> (cmd). Otherwise, open the <strong>Terminal</strong> app.</li>\n<li>Type: <code>ssh [connection address here]</code>, and hit enter/return.</li>\n</ol>\n<h4 id=\"android\">Android</h4>\n<ol>\n<li>Install and open <a href=\"https://play.google.com/store/apps/details?id=com.termux\">Termux</a>.</li>\n<li>Type: <code>pkg install openssl</code> and hit enter/return.</li>\n<li>If asked to confirm, answer with <code>y</code></li>\n<li>Type: <code>ssh [connection address here]</code>, and hit enter/return.</li>\n</ol>\n<h4 id=\"ios\">iOS</h4>\n<ol>\n<li>Install and open <a href=\"https://apps.apple.com/gb/app/shelly-ssh-client/id989642999\">Shelly</a></li>\n<li>Click <strong>+</strong></li>\n<li>In <strong>SSH Server Address</strong>, type out the connection address, then tap <strong>Connect</strong>.</li>\n<li>Tap <strong>Connect</strong></li>\n</ol>\n<h3 id=\"verification\">Verification:</h3>\n<p>These steps will be similar, regardless of your device.</p>\n<ol>\n<li>If you're asked about certificates, click <strong>Yes</strong> (if you want to check, the signature can be found <a href=\"https://warwick.ac.uk/fac/sci/dcs/intranet/user_guide/remote-login/sshfingerprints\">here</a>).</li>\n<li>Enter your <strong>DCS password</strong>. This will have been emailed to you inside a <code>.txt</code> attachment in the past few days. (don't worry if you can't see anything while typing your password; this is normal)</li>\n<li>You're in! You should see a system welcome message:</li>\n</ol>\n<p><img src=\"/resources/ssh-term.png\" alt=\"Screenshot of SSH terminal\" /></p>\n<hr />\n<p>More detailed information can be found in the <a href=\"https://warwick.ac.uk/fac/sci/dcs/intranet/user_guide/remote-login/\">DCS Unix User Guide</a> (along with how to access a desktop environment remotely).\nIf you have any issues, please do ask for help.</p>\n<hr />\n<h1 id=\"connecting-with-vs-code\">Connecting with VS Code</h1>\n<p>(Note: editing this SSH config will also allow you to connect in a similar way through normal SSH)\nThis is a more fully featured connection, and operates like VS Code on your own PC but with all files and terminals on the department servers.</p>\n<ol>\n<li>Install the <code>Remote-SSH</code> extension</li>\n<li>Add the config to VS Code:\n4.1. On your PC in VS Code, press F1, search for <code>Remote-SSH: Open Configuration File</code> - open the default file.\n4.2. Add this to the file (you can change <code>DCSRemoteYY</code> to whatever name you want for the config).</li>\n</ol>\n<pre class=\"z-code\"><code><span class=\"z-text z-plain\">Host DCSRemoteYY\n    HostName remote-YY.dcs.warwick.ac.uk\n    User uXXXXXX\n</span></code></pre>\n<blockquote>\n<p>Note: As before, YY is the last 2 digits of your student ID</p>\n</blockquote>\n<ol start=\"5\">\n<li>PC: Connect by pressing F1 again and searching for Remote-SSH: Connect to Host, then select <code>DCSRemoteYY</code>, select Linux (only prompted first time you connect)</li>\n</ol>\n<h2 id=\"using-an-authentication-key\">Using an Authentication Key</h2>\n<p>To avoid having to enter your password each time, you can use some authentication keys.</p>\n<ol>\n<li>On your PC, enable/install <a href=\"https://learn.microsoft.com/en-us/windows-server/administration/openssh/openssh_install_firstuse?tabs=gui#install-openssh-for-windows\"><code>OpenSSH</code></a> or another ssh client and run <code>ssh-keygen</code>\n<ul>\n<li>This creates <code>id_rsa</code> (private key) and <code>id_rsa.pub</code> (public key) n <code>~/.ssh</code> or <code>C:/Users/&lt;user&gt;/.ssh</code>.</li>\n</ul>\n</li>\n<li>Copy the contents of <code>id_rsa.pub</code> from your PC to <code>~/.ssh/authorized_keys</code> <em>on DCS</em>\n<ul>\n<li>This file may need to be created first time, and if you want to add multiple, simply list them on separate lines.</li>\n<li>Some systems have a <code>ssh-copy-id</code> which makes this copying very easy</li>\n</ul>\n</li>\n<li>Make the Remote-SSH configuration read, the only difference is adding the identity file:</li>\n</ol>\n<pre class=\"z-code\"><code><span class=\"z-text z-plain\">Host DCSRemoteYY\n    HostName remote-YY.dcs.warwick.ac.uk\n    User uXXXXXX\n    IdentityFile C:/Users/&lt;user&gt;/.ssh/id_rsa\n</span></code></pre>\n<ol start=\"4\">\n<li>Attempt to connect like before, if you aren't prompted for a password, your key has been setup correctly.</li>\n</ol>\n",
          "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/remote/",
          "slug": "remote",
          "ancestors": [
            "_index.md",
            "resources/_index.md"
          ],
          "title": "Remote SSH",
          "description": null,
          "updated": null,
          "date": "2022-10-13",
          "year": 2022,
          "month": 10,
          "day": 13,
          "taxonomies": {},
          "authors": [],
          "extra": {},
          "path": "/resources/remote/",
          "components": [
            "resources",
            "remote"
          ],
          "summary": null,
          "toc": [
            {
              "level": 3,
              "id": "connection-address",
              "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/remote/#connection-address",
              "title": "Connection Address:",
              "children": []
            },
            {
              "level": 3,
              "id": "making-a-connection",
              "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/remote/#making-a-connection",
              "title": "Making a Connection:",
              "children": [
                {
                  "level": 4,
                  "id": "windows-mac-linux",
                  "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/remote/#windows-mac-linux",
                  "title": "Windows/Mac/Linux",
                  "children": []
                },
                {
                  "level": 4,
                  "id": "android",
                  "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/remote/#android",
                  "title": "Android",
                  "children": []
                },
                {
                  "level": 4,
                  "id": "ios",
                  "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/remote/#ios",
                  "title": "iOS",
                  "children": []
                }
              ]
            },
            {
              "level": 3,
              "id": "verification",
              "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/remote/#verification",
              "title": "Verification:",
              "children": []
            },
            {
              "level": 1,
              "id": "connecting-with-vs-code",
              "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/remote/#connecting-with-vs-code",
              "title": "Connecting with VS Code",
              "children": [
                {
                  "level": 2,
                  "id": "using-an-authentication-key",
                  "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/remote/#using-an-authentication-key",
                  "title": "Using an Authentication Key",
                  "children": []
                }
              ]
            }
          ],
          "word_count": 583,
          "reading_time": 3,
          "assets": [],
          "draft": false,
          "lang": "en",
          "lower": null,
          "higher": null,
          "translations": [],
          "backlinks": []
        },
        "translations": [],
        "backlinks": []
      },
      {
        "relative_path": "resources/remote.md",
        "colocated_path": null,
        "content": "<h3 id=\"connection-address\">Connection Address:</h3>\n<p><strong><code>uXXXXXXX@remote-YY.dcs.warwick.ac.uk</code></strong><br />\nwhere the X's are replaced by your full 7-digit university id, and the Y's by the last two digits of it.</p>\n<h3 id=\"making-a-connection\">Making a Connection:</h3>\n<p>The steps you need to follow at the start will slightly vary depending on your operating system.</p>\n<h4 id=\"windows-mac-linux\">Windows/Mac/Linux</h4>\n<ol>\n<li>On Windows, open up the <strong>Command Prompt</strong> (cmd). Otherwise, open the <strong>Terminal</strong> app.</li>\n<li>Type: <code>ssh [connection address here]</code>, and hit enter/return.</li>\n</ol>\n<h4 id=\"android\">Android</h4>\n<ol>\n<li>Install and open <a href=\"https://play.google.com/store/apps/details?id=com.termux\">Termux</a>.</li>\n<li>Type: <code>pkg install openssl</code> and hit enter/return.</li>\n<li>If asked to confirm, answer with <code>y</code></li>\n<li>Type: <code>ssh [connection address here]</code>, and hit enter/return.</li>\n</ol>\n<h4 id=\"ios\">iOS</h4>\n<ol>\n<li>Install and open <a href=\"https://apps.apple.com/gb/app/shelly-ssh-client/id989642999\">Shelly</a></li>\n<li>Click <strong>+</strong></li>\n<li>In <strong>SSH Server Address</strong>, type out the connection address, then tap <strong>Connect</strong>.</li>\n<li>Tap <strong>Connect</strong></li>\n</ol>\n<h3 id=\"verification\">Verification:</h3>\n<p>These steps will be similar, regardless of your device.</p>\n<ol>\n<li>If you're asked about certificates, click <strong>Yes</strong> (if you want to check, the signature can be found <a href=\"https://warwick.ac.uk/fac/sci/dcs/intranet/user_guide/remote-login/sshfingerprints\">here</a>).</li>\n<li>Enter your <strong>DCS password</strong>. This will have been emailed to you inside a <code>.txt</code> attachment in the past few days. (don't worry if you can't see anything while typing your password; this is normal)</li>\n<li>You're in! You should see a system welcome message:</li>\n</ol>\n<p><img src=\"/resources/ssh-term.png\" alt=\"Screenshot of SSH terminal\" /></p>\n<hr />\n<p>More detailed information can be found in the <a href=\"https://warwick.ac.uk/fac/sci/dcs/intranet/user_guide/remote-login/\">DCS Unix User Guide</a> (along with how to access a desktop environment remotely).\nIf you have any issues, please do ask for help.</p>\n<hr />\n<h1 id=\"connecting-with-vs-code\">Connecting with VS Code</h1>\n<p>(Note: editing this SSH config will also allow you to connect in a similar way through normal SSH)\nThis is a more fully featured connection, and operates like VS Code on your own PC but with all files and terminals on the department servers.</p>\n<ol>\n<li>Install the <code>Remote-SSH</code> extension</li>\n<li>Add the config to VS Code:\n4.1. On your PC in VS Code, press F1, search for <code>Remote-SSH: Open Configuration File</code> - open the default file.\n4.2. Add this to the file (you can change <code>DCSRemoteYY</code> to whatever name you want for the config).</li>\n</ol>\n<pre class=\"z-code\"><code><span class=\"z-text z-plain\">Host DCSRemoteYY\n    HostName remote-YY.dcs.warwick.ac.uk\n    User uXXXXXX\n</span></code></pre>\n<blockquote>\n<p>Note: As before, YY is the last 2 digits of your student ID</p>\n</blockquote>\n<ol start=\"5\">\n<li>PC: Connect by pressing F1 again and searching for Remote-SSH: Connect to Host, then select <code>DCSRemoteYY</code>, select Linux (only prompted first time you connect)</li>\n</ol>\n<h2 id=\"using-an-authentication-key\">Using an Authentication Key</h2>\n<p>To avoid having to enter your password each time, you can use some authentication keys.</p>\n<ol>\n<li>On your PC, enable/install <a href=\"https://learn.microsoft.com/en-us/windows-server/administration/openssh/openssh_install_firstuse?tabs=gui#install-openssh-for-windows\"><code>OpenSSH</code></a> or another ssh client and run <code>ssh-keygen</code>\n<ul>\n<li>This creates <code>id_rsa</code> (private key) and <code>id_rsa.pub</code> (public key) n <code>~/.ssh</code> or <code>C:/Users/&lt;user&gt;/.ssh</code>.</li>\n</ul>\n</li>\n<li>Copy the contents of <code>id_rsa.pub</code> from your PC to <code>~/.ssh/authorized_keys</code> <em>on DCS</em>\n<ul>\n<li>This file may need to be created first time, and if you want to add multiple, simply list them on separate lines.</li>\n<li>Some systems have a <code>ssh-copy-id</code> which makes this copying very easy</li>\n</ul>\n</li>\n<li>Make the Remote-SSH configuration read, the only difference is adding the identity file:</li>\n</ol>\n<pre class=\"z-code\"><code><span class=\"z-text z-plain\">Host DCSRemoteYY\n    HostName remote-YY.dcs.warwick.ac.uk\n    User uXXXXXX\n    IdentityFile C:/Users/&lt;user&gt;/.ssh/id_rsa\n</span></code></pre>\n<ol start=\"4\">\n<li>Attempt to connect like before, if you aren't prompted for a password, your key has been setup correctly.</li>\n</ol>\n",
        "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/remote/",
        "slug": "remote",
        "ancestors": [
          "_index.md",
          "resources/_index.md"
        ],
        "title": "Remote SSH",
        "description": null,
        "updated": null,
        "date": "2022-10-13",
        "year": 2022,
        "month": 10,
        "day": 13,
        "taxonomies": {},
        "authors": [],
        "extra": {},
        "path": "/resources/remote/",
        "components": [
          "resources",
          "remote"
        ],
        "summary": null,
        "toc": [
          {
            "level": 3,
            "id": "connection-address",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/remote/#connection-address",
            "title": "Connection Address:",
            "children": []
          },
          {
            "level": 3,
            "id": "making-a-connection",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/remote/#making-a-connection",
            "title": "Making a Connection:",
            "children": [
              {
                "level": 4,
                "id": "windows-mac-linux",
                "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/remote/#windows-mac-linux",
                "title": "Windows/Mac/Linux",
                "children": []
              },
              {
                "level": 4,
                "id": "android",
                "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/remote/#android",
                "title": "Android",
                "children": []
              },
              {
                "level": 4,
                "id": "ios",
                "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/remote/#ios",
                "title": "iOS",
                "children": []
              }
            ]
          },
          {
            "level": 3,
            "id": "verification",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/remote/#verification",
            "title": "Verification:",
            "children": []
          },
          {
            "level": 1,
            "id": "connecting-with-vs-code",
            "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/remote/#connecting-with-vs-code",
            "title": "Connecting with VS Code",
            "children": [
              {
                "level": 2,
                "id": "using-an-authentication-key",
                "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/remote/#using-an-authentication-key",
                "title": "Using an Authentication Key",
                "children": []
              }
            ]
          }
        ],
        "word_count": 583,
        "reading_time": 3,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lower": {
          "relative_path": "resources/docker.md",
          "colocated_path": null,
          "content": "<p>We’re going to make a super simple web API using Python and Flask, containerise it with Docker, set up continuous integration with Github Actions, and then deploy it using Docker too.</p>\n<hr />\n<h2 id=\"a-python-project\">A Python Project</h2>\n<p>Login to the DCS machines, create a new directory called <code>my-flask-app</code> and cd into it. </p>\n<p>We’re going to use <a href=\"https://pipenv.pypa.io/en/latest/\">pipenv</a> to create a new python project. Pipenv manages dependencies and virtual environments for us, making it much more ergonomic than just using pip and virtualenvs manually. Install it with <code>python3.9 -m pip install --user pipenv</code>.  You can then invoke pipenv with <code>python3.9 -m pipenv &lt;subcommand&gt;</code>. Add <a href=\"https://flask.palletsprojects.com/en/2.2.x/\">Flask</a> to your project with <code>python 3.9 -m pipenv install flask</code>.</p>\n<p>There’s another dependency that we’ll need later on as well: <a href=\"https://gunicorn.org/\">gunicorn</a>. Gunicorn is a Python HTTP server, and will serve our Flask app for us: <code>pipenv install gunicorn</code>.</p>\n<p>Also initalise your folder as a git repo: <code>git init</code>.</p>\n<h3 id=\"flask\">Flask</h3>\n<p>Create a new Python file called <code>app.py</code>, and inside it add the following code:</p>\n<pre data-lang=\"python\" class=\"language-python z-code\"><code class=\"language-python\" data-lang=\"python\"><span class=\"z-source z-python\"><span class=\"z-meta z-statement z-import z-python\"><span class=\"z-keyword z-control z-import z-from z-python\">from</span></span><span class=\"z-meta z-statement z-import z-python\"><span class=\"z-meta z-import-source z-python\"> <span class=\"z-meta z-import-path z-python\"><span class=\"z-meta z-import-name z-python\">flask</span></span> <span class=\"z-meta z-statement z-import z-python\"><span class=\"z-keyword z-control z-import z-python\">import</span></span></span></span><span class=\"z-meta z-statement z-import z-python\"></span><span class=\"z-meta z-statement z-import z-python\"> <span class=\"z-meta z-generic-name z-python\">Flask</span></span>\n\n<span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">app</span></span> <span class=\"z-keyword z-operator z-assignment z-python\">=</span> <span class=\"z-meta z-function-call z-python\"><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-variable z-function z-python\"><span class=\"z-meta z-generic-name z-python\">Flask</span></span></span></span><span class=\"z-meta z-function-call z-arguments z-python\"><span class=\"z-punctuation z-section z-arguments z-begin z-python\">(</span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-support z-variable z-magic z-python\">__name__</span></span><span class=\"z-punctuation z-section z-arguments z-end z-python\">)</span></span>\n\n<span class=\"z-meta z-annotation z-python\"><span class=\"z-punctuation z-definition z-annotation z-python\">@</span><span class=\"z-meta z-annotation z-function z-python\"></span></span><span class=\"z-meta z-annotation z-function z-python\"><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">app</span></span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-punctuation z-accessor z-dot z-python\">.</span></span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-variable z-annotation z-function z-python\"><span class=\"z-meta z-generic-name z-python\">route</span></span></span></span><span class=\"z-meta z-annotation z-function z-python\"><span class=\"z-punctuation z-section z-arguments z-begin z-python\">(</span></span><span class=\"z-meta z-annotation z-arguments z-python\"><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">/<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span></span><span class=\"z-meta z-annotation z-function z-python\"><span class=\"z-punctuation z-section z-arguments z-end z-python\">)</span></span>\n<span class=\"z-meta z-function z-python\"><span class=\"z-storage z-type z-function z-python\"><span class=\"z-keyword z-declaration z-function z-python\">def</span></span> <span class=\"z-entity z-name z-function z-python\"><span class=\"z-meta z-generic-name z-python\">hello</span></span></span><span class=\"z-meta z-function z-parameters z-python\"><span class=\"z-punctuation z-section z-parameters z-begin z-python\">(</span></span><span class=\"z-meta z-function z-parameters z-python\"><span class=\"z-punctuation z-section z-parameters z-end z-python\">)</span></span><span class=\"z-meta z-function z-python\"><span class=\"z-punctuation z-section z-function z-begin z-python\">:</span></span>\n\t<span class=\"z-keyword z-control z-flow z-return z-python\">return</span> <span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">Hello, World!<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span>\n</span></code></pre>\n<p>This is the most simple Flask app possible. The <code>app</code> variable refers to an object that encapsulates your app and all it's API routes, and then we create a new route that returns simply the text “Hello, world”. Customise the string so your app is unique to you.</p>\n<p>You can start your app with <code>pipenv run flask run</code>: this will start the flask <em>development</em> server within the python environment that pipenv has created. Head to the URL that is printed in the terminal and you will see your response. </p>\n<p>(Note how the development server prints a message about using a production WSGI server instead? That's where gunicorn will come in.)</p>\n<p>Congrats, you’ve created your very own web app! Commit this to Git, and then create a new GitHub repo and push your commit.</p>\n<hr />\n<h2 id=\"docker\">Docker</h2>\n<h3 id=\"writing-a-dockerfile\">Writing a Dockerfile</h3>\n<p>So you can run your app on your computer, but will it be able to run on someone elses computer? We’re going to build something that will allow anyone to run your app anywhere, on any machine, with no* (*minimal) setup or installation required.</p>\n<p>The way Docker works is you build an <em>image</em>, which contains everything we need to run the container, using <code>docker build</code>. We then do <code>docker run</code>, which takes your image and starts a container, which is just a process on your machine but isolated from the rest of the system. When we create a docker image, we're building up a mini-system within the host system, so we need to install anything that our program will depend on.</p>\n<p>That's the short version, see <a href=\"https://docs.docker.com/get-started/\">https://docs.docker.com/get-started/</a> for more: the way Docker works within the Linux kernel is very interesting.</p>\n<p>Create a file called <code>Dockerfile</code>, which is where the description of our container image will go. We’ll create our Dockerfile line by line.</p>\n<p>The first line is</p>\n<pre data-lang=\"docker\" class=\"language-docker z-code\"><code class=\"language-docker\" data-lang=\"docker\"><span class=\"z-text z-plain\">FROM python:3.9\n</span></code></pre>\n<p>Here, we give Docker a name of another image that we want to use as a base for our image. We’re using the Python one from Docker hub: <a href=\"https://hub.docker.com/_/python\">https://hub.docker.com/_/python</a>, version 3.9. Docker hub is container registry, where people publish images for others to use.</p>\n<p>The next thing we want to do is install pipenv so we can use it within our container. Remember that container builds are isolated from the rest of the system, so any tools we want to use we need to install in our container:</p>\n<pre data-lang=\"docker\" class=\"language-docker z-code\"><code class=\"language-docker\" data-lang=\"docker\"><span class=\"z-text z-plain\">RUN pip install pipenv\n</span></code></pre>\n<p>The <code>RUN</code> command tells docker to execute a command as part of the build process.</p>\n<p>Next we set our working directory within the container. Containers have their own file system which is separate from ours, so we make use of that. </p>\n<pre data-lang=\"dockerfile\" class=\"language-dockerfile z-code\"><code class=\"language-dockerfile\" data-lang=\"dockerfile\"><span class=\"z-source z-dockerfile\">WORKDIR /app\n</span></code></pre>\n<p>To run our code within the container, we need to copy the contents of our project into it. We copy everything in the current directory (our project directory), which docker calls the <em>build context</em>, from the host to the container:</p>\n<pre data-lang=\"dockerfile\" class=\"language-dockerfile z-code\"><code class=\"language-dockerfile\" data-lang=\"dockerfile\"><span class=\"z-source z-dockerfile\">COPY . .\n</span></code></pre>\n<p>We need to use pipenv to install the dependencies for our project within the container, so another <code>RUN</code> command. We use the <code>--system</code> flag to install our dependencies to the global Python environment instead of creating a virtual environment. We’re in a container which is an isolated environment itself, so there’s no need for virtualenvs.</p>\n<pre data-lang=\"dockerfile\" class=\"language-dockerfile z-code\"><code class=\"language-dockerfile\" data-lang=\"dockerfile\"><span class=\"z-source z-dockerfile\">RUN pipenv install --system\n</span></code></pre>\n<p>We’ve set up everything we need for our app, so now we tell Docker how to run it. The <code>CMD</code> command tells the container how to start the process when we do <code>docker run</code>. We want to use gunicorn to start our flask app as a HTTP server. We do this instead of using the development server, <a href=\"https://stackoverflow.com/questions/12269537/is-the-server-bundled-with-flask-safe-to-use-in-production\">because using the development server for production is bad</a></p>\n<pre data-lang=\"docker\" class=\"language-docker z-code\"><code class=\"language-docker\" data-lang=\"docker\"><span class=\"z-text z-plain\">CMD gunicorn app:app -b 0.0.0.0:8080\n</span></code></pre>\n<p>We tell gunicorn to run <code>app:app</code>, which means the Flask application called <code>app</code> within the file <code>app</code> that we created (confusing, I know). We also tell it to listen for connections from on  <code>0.0.0.0:8080</code>, which means the server will accept connections on port <code>8080</code>.</p>\n<p>Your complete dockerfile should look like this:</p>\n<pre data-lang=\"docker\" class=\"language-docker z-code\"><code class=\"language-docker\" data-lang=\"docker\"><span class=\"z-text z-plain\">FROM python:3.9\nRUN pip install pipenv\nWORKDIR /app\nCOPY . .\nRUN pipenv install --system\nCMD gunicorn app:app -b 0.0.0.0:8080\n</span></code></pre>\n<p>DCS have something called <code>podman</code> installed, which is a docker-compatible container tool, so we’ll make use of that. Run <code>podman build -t myapp .</code> to build your container and tag it with the name  ‘myapp’.</p>\n<h3 id=\"running-a-container\">Running a Container</h3>\n<p>You can now start your app with <code>podman run myapp</code>. You’ll see gunicorn starting up, and then head to <code>localhost:8080</code> in your browser to see your hello world message again.</p>\n<p>This won’t work: why? We said that containers are isolated from their host, which includes networking and ports. We need to explicitly expose ports from the container to the host when we start it.</p>\n<p>We’re going to use a different command to start the container.</p>\n<pre class=\"z-code\"><code><span class=\"z-text z-plain\">podman run -d -p &#39;8080:8080&#39; myapp\n</span></code></pre>\n<p>The <code>-d</code> flag tells podman to start the container in the background. The <code>-p '8080:8080'</code> flag tells podman that we want to map port 8080 on the host to port 8080 on the container. You can now head to <code>localhost:8080</code> in your browser to see your ‘Hello, world’ message!</p>\n<p>A few other useful podman commands:</p>\n<ul>\n<li><code>podman ps</code> will show all running containers and their names</li>\n<li><code>podman logs</code> will show the logs from any running containers</li>\n<li><code>podman attach</code> will attach to a running container</li>\n</ul>\n<p>Create a new Git commit with your Dockerfile and push it.</p>\n<hr />\n<h2 id=\"github-actions\">GitHub Actions</h2>\n<p>So we can build and run a container image, how do we share it with other people so everyone else can run our amazing app too? We mentioned container registries earlier, and we’re going to use the Github Container Registry, or <code>ghcr.io</code>.</p>\n<p>Github Actions is a platform built into GitHub that allows you to automate software and deployment workflows for continuous integration and deployment (CI/CD). We’re going to create a simple workflow that builds and publishes our image for us every time we push new code to GitHub. Make sure your repo is public, or you might need to add some extra config to the workflow file.</p>\n<p>Create a new file at <code>.github/workflows/ci.yml</code> with the following contents:</p>\n<pre data-lang=\"yaml\" class=\"language-yaml z-code\"><code class=\"language-yaml\" data-lang=\"yaml\"><span class=\"z-source z-yaml\"><span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">name</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">CI</span> <span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> the name of our workflow is &#39;CI&#39;\n</span>\n<span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> run this workflow when we push to the &#39;main&#39; branch\n</span><span class=\"z-constant z-language z-boolean z-yaml\">on</span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span>\t\n  <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">push</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span>\n    <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">branches</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-meta z-flow-sequence z-yaml\"><span class=\"z-punctuation z-definition z-sequence z-begin z-yaml\">[</span><span class=\"z-string z-unquoted z-plain z-in z-yaml\">main</span><span class=\"z-punctuation z-definition z-sequence z-end z-yaml\">]</span></span>\n\n<span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> the list of jobs in this workflow\n</span><span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">jobs</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span>\n\n<span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> define a job\n</span>  <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">build</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> \n    <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">name</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">Build and Push Container Image</span> <span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> the job&#39;s full name\n</span>    <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">runs-on</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">ubuntu-latest</span> <span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> the OS that this job runs on\n</span>\t\t\n\t<span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> we need write permissions to publish the package\n</span>    <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">permissions</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> \n      <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">packages</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">write</span>\n\t\t\t\n\t<span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> the steps that this job consists of\n</span>    <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">steps</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span>\n\t  <span class=\"z-punctuation z-definition z-block z-sequence z-item z-yaml\">-</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">uses</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">actions/checkout@v3</span> <span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> check out our repo\n</span>\t  \n\t  <span class=\"z-punctuation z-definition z-block z-sequence z-item z-yaml\">-</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">name</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">Log in to the container registry</span>\n        <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">uses</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">docker/login-action@v2</span>\n        <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">with</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span>\n          <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">registry</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">ghcr.io</span>\n          <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">username</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">${{ github.repository_owner }}</span>\n          <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">password</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">${{ secrets.GITHUB_TOKEN }}</span>\n\n\t\t<span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> generate the tags that we&#39;ll use to name our image\n</span>      <span class=\"z-punctuation z-definition z-block z-sequence z-item z-yaml\">-</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">name</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">Get Docker metadata</span>\n        <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">id</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">meta</span>\n        <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">uses</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">docker/metadata-action@v4</span>\n        <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">with</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span>\n          <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">images</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">ghcr.io/${{ github.repository }}</span>\n          <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">tags</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-keyword z-control z-flow z-block-scalar z-literal z-yaml\">|</span> <span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> tag with commit hash and with &#39;latest&#39;\n</span><span class=\"z-string z-unquoted z-block z-yaml\">            type=sha \n            type=raw,value=latest,enable={{is_default_branch}}\n\t\t\n</span>\t\t<span class=\"z-comment z-line z-number-sign z-yaml\"><span class=\"z-punctuation z-definition z-comment z-line z-number-sign z-yaml\">#</span> build and push our image, using output from previous step\n</span>      <span class=\"z-punctuation z-definition z-block z-sequence z-item z-yaml\">-</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">name</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">Build and push Docker image</span>\n        <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">uses</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">docker/build-push-action@v3</span>\n        <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">with</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span>\n          <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">context</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-constant z-numeric z-float z-decimal z-yaml\"><span class=\"z-punctuation z-separator z-decimal z-yaml\">.</span></span>\n          <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">push</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-constant z-language z-boolean z-yaml\">true</span>\n          <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">tags</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">${{ steps.meta.outputs.tags }}</span>\n          <span class=\"z-string z-unquoted z-plain z-out z-yaml\"><span class=\"z-entity z-name z-tag z-yaml\">labels</span></span><span class=\"z-punctuation z-separator z-key-value z-mapping z-yaml\">:</span> <span class=\"z-string z-unquoted z-plain z-out z-yaml\">${{ steps.meta.outputs.labels }}</span>\n</span></code></pre>\n<p>GitHub Actions workflows are comprised of multiple jobs, which themselves consist of multiple steps. This workflow will be run by GitHub every time you push to your <code>main</code> branch. Here, we define a single job, <code>build</code>, with 4 steps:</p>\n<ul>\n<li>Check out our repository</li>\n<li>Log in to the container registry</li>\n<li>Generate the metadata for our image (tags, labels)</li>\n<li>Build and push the image</li>\n</ul>\n<p>Steps usually use workflows provided by other people. Here, we’re using workflows provided by docker to define our steps (the <code>uses</code> key). The <code>with</code> defines the inputs to those workflows.</p>\n<p>GitHub Actions is a very large topic and can be very confusing, but this simple workflow file will be enough to get us started for now. Have a look at the <a href=\"https://github.com/UWCS/apollo/blob/master/.github/workflows/ci.yaml\">workflow files for Apollo</a> if you want a larger example.</p>\n<p>Commit your file and push it to GitHub. Go to the actions tab, and you should see your workflow being run. Once it’s complete, the built image should should appear in the right sidebar of your repo’s homepage under ‘Packages’. You might need to mess with your package settings to make it public, <a href=\"https://docs.github.com/en/packages/learn-github-packages/configuring-a-packages-access-control-and-visibility\">see here for more info</a>.</p>\n<p>This is great because now you can run anyone else’s app on your machine easily: <code>podman run ghcr.io/&lt;github name&gt;/&lt;repo name&gt;:latest</code> will pull down their image and run it. Don’t forget to add the port mapping in your <code>run</code> command!</p>\n<hr />\n<h2 id=\"deployment-portainer\">Deployment (Portainer)</h2>\n<p>So we have our app, it's published and anyone can run it anywhere. What if we want to host it somewhere so it's available all the time? There are lots of container hosting platforms out there, but we actually have our own that is set up using <a href=\"https://www.portainer.io/\">Portainer</a>, available for members of the society to use. Head to <a href=\"https://portainer.uwcs.co.uk\">https://portainer.uwcs.co.uk</a> and log in with your UWCS account. If you've forgotten your details or can't log in then talk to Joey or skiros (or email tech@uwcs.co.uk if you're reading this on our website after the session).</p>\n<p>Portainer provides a nice interface for setting up containers running as services. Click on 'UWCS Public Docker' to access our shared Portainer environment. Click containers, then click the blue 'add container' button in the top right.</p>\n<p>Fill out the details to use your image to start a new container. This screen is essentially configuring your <code>podman run</code> command but with a GUI. Put the name of your image in the 'image name' field, and under 'network ports configuration', map a random port (above 10000) to 8080 in the container. </p>\n<p>To map your port to a domain name, add an container <em>label</em> that maps the key <code>traefik.http.routers.NAME.rule</code> to the value <code>Host(``NAME.containers.uwcs.uk``)</code>. Replace NAME with your name. Use a single backtick where I've used double, this markdown renderer fucking sucks.</p>\n<p>Give your container a name as well, something descriptive. See <a href=\"https://docs.portainer.io/user/docker/services/configure\">https://docs.portainer.io/user/docker/services/configure</a> for the full documentation on how to configure a service.</p>\n<p>Start your container and it should pull your image and spin up. If it doesn't work then you're probably trying to use a port that someone else is already using on the host, so try another one. You should be able to see your running container. Try accessing the logs, and you can even start a new shell within it by clicking 'console' under 'container status'.</p>\n<p>Head to <a href=\"https://yourname.containers.uwcs.uk\">https://yourname.containers.uwcs.uk</a>, and your app should be accessible from the outside world.</p>\n<hr />\n<h2 id=\"bonus-persistent-data-with-volumes\">Bonus: Persistent Data with Volumes</h2>\n<p>Let's get slightly more fancy with some HTTP stuff. Update your route handler so that it looks like below. The idea is that our message is read from a file, and we can update the contents of the file by POSTing to the URL.</p>\n<pre data-lang=\"python\" class=\"language-python z-code\"><code class=\"language-python\" data-lang=\"python\"><span class=\"z-source z-python\"><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">file_location</span></span> <span class=\"z-keyword z-operator z-assignment z-python\">=</span> <span class=\"z-meta z-function-call z-python\"><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-variable z-function z-python\"><span class=\"z-meta z-generic-name z-python\">getenv</span></span></span></span><span class=\"z-meta z-function-call z-arguments z-python\"><span class=\"z-punctuation z-section z-arguments z-begin z-python\">(</span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">MSG_FILE_LOCATION<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span><span class=\"z-punctuation z-separator z-arguments z-python\">,</span> <span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">msg.txt<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span><span class=\"z-punctuation z-section z-arguments z-end z-python\">)</span></span>\n\n<span class=\"z-meta z-annotation z-python\"><span class=\"z-punctuation z-definition z-annotation z-python\">@</span><span class=\"z-meta z-annotation z-function z-python\"></span></span><span class=\"z-meta z-annotation z-function z-python\"><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">app</span></span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-punctuation z-accessor z-dot z-python\">.</span></span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-variable z-annotation z-function z-python\"><span class=\"z-meta z-generic-name z-python\">route</span></span></span></span><span class=\"z-meta z-annotation z-function z-python\"><span class=\"z-punctuation z-section z-arguments z-begin z-python\">(</span></span><span class=\"z-meta z-annotation z-arguments z-python\"><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">/<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span><span class=\"z-punctuation z-separator z-arguments z-python\">,</span> <span class=\"z-variable z-parameter z-python\">methods</span><span class=\"z-keyword z-operator z-assignment z-python\">=</span><span class=\"z-meta z-sequence z-list z-python\"><span class=\"z-punctuation z-section z-sequence z-begin z-python\">[</span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">GET<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span><span class=\"z-punctuation z-separator z-sequence z-python\">,</span> <span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">POST<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span><span class=\"z-punctuation z-section z-sequence z-end z-python\">]</span></span></span><span class=\"z-meta z-annotation z-function z-python\"><span class=\"z-punctuation z-section z-arguments z-end z-python\">)</span></span>\n<span class=\"z-meta z-function z-python\"><span class=\"z-storage z-type z-function z-python\"><span class=\"z-keyword z-declaration z-function z-python\">def</span></span> <span class=\"z-entity z-name z-function z-python\"><span class=\"z-meta z-generic-name z-python\">hello</span></span></span><span class=\"z-meta z-function z-parameters z-python\"><span class=\"z-punctuation z-section z-parameters z-begin z-python\">(</span></span><span class=\"z-meta z-function z-parameters z-python\"><span class=\"z-punctuation z-section z-parameters z-end z-python\">)</span></span><span class=\"z-meta z-function z-python\"><span class=\"z-punctuation z-section z-function z-begin z-python\">:</span></span>\n    <span class=\"z-meta z-statement z-conditional z-if z-python\"><span class=\"z-keyword z-control z-conditional z-if z-python\">if</span> <span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">request</span><span class=\"z-punctuation z-accessor z-dot z-python\">.</span><span class=\"z-meta z-generic-name z-python\">method</span></span> <span class=\"z-keyword z-operator z-comparison z-python\">==</span> <span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">POST<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span><span class=\"z-punctuation z-section z-block z-conditional z-if z-python\">:</span></span>\n        <span class=\"z-meta z-statement z-with z-python\"><span class=\"z-keyword z-control z-flow z-with z-python\">with</span> <span class=\"z-meta z-function-call z-python\"><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-variable z-function z-python\"><span class=\"z-support z-function z-builtin z-python\">open</span></span></span></span><span class=\"z-meta z-function-call z-arguments z-python\"><span class=\"z-punctuation z-section z-arguments z-begin z-python\">(</span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">file_location</span></span><span class=\"z-punctuation z-separator z-arguments z-python\">,</span> <span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">wb+<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span><span class=\"z-punctuation z-section z-arguments z-end z-python\">)</span></span> <span class=\"z-meta z-statement z-with z-python\"><span class=\"z-keyword z-control z-flow z-with z-as z-python\">as</span></span></span><span class=\"z-meta z-statement z-with z-python\"> <span class=\"z-meta z-generic-name z-python\">f</span><span class=\"z-punctuation z-section z-block z-with z-python\">:</span></span>\n            <span class=\"z-meta z-function-call z-python\"><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">f</span></span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-punctuation z-accessor z-dot z-python\">.</span></span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-variable z-function z-python\"><span class=\"z-meta z-generic-name z-python\">write</span></span></span></span><span class=\"z-meta z-function-call z-arguments z-python\"><span class=\"z-punctuation z-section z-arguments z-begin z-python\">(</span><span class=\"z-meta z-function-call z-python\"><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">request</span></span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-punctuation z-accessor z-dot z-python\">.</span></span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-variable z-function z-python\"><span class=\"z-meta z-generic-name z-python\">get_data</span></span></span></span><span class=\"z-meta z-function-call z-arguments z-python\"><span class=\"z-punctuation z-section z-arguments z-begin z-python\">(</span><span class=\"z-punctuation z-section z-arguments z-end z-python\">)</span></span><span class=\"z-punctuation z-section z-arguments z-end z-python\">)</span></span>\n        <span class=\"z-keyword z-control z-flow z-return z-python\">return</span> <span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">Successfully updated message<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span>\n    <span class=\"z-meta z-statement z-conditional z-elseif z-python\"><span class=\"z-keyword z-control z-conditional z-elseif z-python\">elif</span> <span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">request</span><span class=\"z-punctuation z-accessor z-dot z-python\">.</span><span class=\"z-meta z-generic-name z-python\">method</span></span> <span class=\"z-keyword z-operator z-comparison z-python\">==</span> <span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">GET<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span><span class=\"z-punctuation z-section z-block z-conditional z-elseif z-python\">:</span></span>\n        <span class=\"z-meta z-statement z-exception z-try z-python\"><span class=\"z-keyword z-control z-exception z-try z-python\">try</span><span class=\"z-punctuation z-section z-block z-exception z-try z-python\">:</span></span>\n            <span class=\"z-meta z-statement z-with z-python\"><span class=\"z-keyword z-control z-flow z-with z-python\">with</span> <span class=\"z-meta z-function-call z-python\"><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-variable z-function z-python\"><span class=\"z-support z-function z-builtin z-python\">open</span></span></span></span><span class=\"z-meta z-function-call z-arguments z-python\"><span class=\"z-punctuation z-section z-arguments z-begin z-python\">(</span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">file_location</span></span><span class=\"z-punctuation z-separator z-arguments z-python\">,</span> <span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">rb<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span><span class=\"z-punctuation z-section z-arguments z-end z-python\">)</span></span> <span class=\"z-meta z-statement z-with z-python\"><span class=\"z-keyword z-control z-flow z-with z-as z-python\">as</span></span></span><span class=\"z-meta z-statement z-with z-python\"> <span class=\"z-meta z-generic-name z-python\">f</span><span class=\"z-punctuation z-section z-block z-with z-python\">:</span></span>\n                <span class=\"z-keyword z-control z-flow z-return z-python\">return</span> <span class=\"z-meta z-function-call z-python\"><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-meta z-generic-name z-python\">f</span></span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-punctuation z-accessor z-dot z-python\">.</span></span><span class=\"z-meta z-qualified-name z-python\"><span class=\"z-variable z-function z-python\"><span class=\"z-meta z-generic-name z-python\">read</span></span></span></span><span class=\"z-meta z-function-call z-arguments z-python\"><span class=\"z-punctuation z-section z-arguments z-begin z-python\">(</span><span class=\"z-punctuation z-section z-arguments z-end z-python\">)</span></span>\n        <span class=\"z-meta z-statement z-exception z-catch z-python\"><span class=\"z-keyword z-control z-exception z-catch z-python\">except</span> <span class=\"z-support z-type z-exception z-python\">FileNotFoundError</span><span class=\"z-punctuation z-section z-block z-exception z-catch z-python\">:</span></span>\n            <span class=\"z-keyword z-control z-flow z-return z-python\">return</span> <span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\"><span class=\"z-punctuation z-definition z-string z-begin z-python\">&quot;</span></span></span><span class=\"z-meta z-string z-python\"><span class=\"z-string z-quoted z-double z-python\">No message found<span class=\"z-punctuation z-definition z-string z-end z-python\">&quot;</span></span></span>\n</span></code></pre>\n<p>Try this out running locally without docker. To send a post request with some data, use <code>curl -X POST -d &quot;test data&quot; &lt;url&gt;</code>. You should see the file being updated on your filesystem, and the message file will persist between application restarts. Note how we can also set the location of the file using an environment variable, but it will fall back to the default if unset.</p>\n<p>Remember how Docker containers have their own isolated filesystem? If we were to run this within Docker, every time we re-created our container to update it or change the config, the message would be lost. Fortunately, we can use <a href=\"https://docs.docker.com/storage/volumes/\">Docker Volumes</a> to persist data within containers, like mini storage drives that we can mount in containers.</p>\n<p>Commit and push your code to GitHub, wait for the image to build in CI, then re-deploy in Portainer, pulling the latest image. This should work using the default file location of <code>msg.txt</code>, but if you destroy the container and re-created it, your message will not be saved.</p>\n<p>In Portainer, click on volumes in the sidebar and create a new volume, call it 'message_data' or something. Next, go back to your running service container, and click 'duplicate/edit'. Scroll down to advanced settings, click volumes, and map your new volume to <code>/mnt/message_data</code> within the container. Head to environment variables and set <code>MSG_FILE_LOCATION</code> to <code>/mnt/message_data/msg.txt</code> so that Flask knows to put your message file within the mounted volume. Check the Portainer docs if you need more info on how to do this.</p>\n<p>Start your container and POST a new message to your service, then make a GET request to get it back. Head back to your volume in the portainer UI and you should see your message file there. You can download it, or upload a different message file too. Destroy and re-create your container, you should notice that the message file is persisted in there too.</p>\n<hr />\n<h2 id=\"the-end\">The End*</h2>\n<p><strong>Welcome to the end of the lab!</strong> You're free to leave if you want, but maybe you could spend a bit of time improving that flask app of yours... for example, adding some buttons or a persistent counter, or CSS, or even a database - and make sure you can build and deploy it with those changes.</p>\n<p>The kind of workflow you've just set up for building and deploying a service is very similar to how major tech companies really do this kind of thing. Docker is a really powerful tool for deploying services and making them portable, and we've only scratched the surface of it here.</p>\n<p>Something we'd definitely recommend taking a look at is Docker Compose. Compose allows you to spin up multiple containers with a pre-configured run command using just <code>docker compose up</code>, which is especially useful if you want to, for example, bring up a database container at the same time as your application. Check out the tutorial: <a href=\"https://docs.docker.com/compose/gettingstarted/\">https://docs.docker.com/compose/gettingstarted/</a></p>\n<p>If you're doing CS261 then these skills may come in handy: being able to set up a docker image makes it easy to work on software in a team where everyone may have different setups, and having a live deployment of your project running on a container host with a setup like you just built is useful too. You can even get Portainer and GitHub Actions to automatically re-deploy the latest version of your image every time you push code! (CI/CD is a hell of a drug)</p>\n<p>And, as always, feel free to make use of our hosting services. See <a href=\"https://techteam.uwcs.co.uk\">https://techteam.uwcs.co.uk</a> for our wiki with more details on what we provide, or talk to one of our tech team.</p>\n",
          "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/docker/",
          "slug": "docker",
          "ancestors": [
            "_index.md",
            "resources/_index.md"
          ],
          "title": "Docker, Contained",
          "description": null,
          "updated": null,
          "date": "2023-01-18",
          "year": 2023,
          "month": 1,
          "day": 18,
          "taxonomies": {},
          "authors": [],
          "extra": {},
          "path": "/resources/docker/",
          "components": [
            "resources",
            "docker"
          ],
          "summary": null,
          "toc": [
            {
              "level": 2,
              "id": "a-python-project",
              "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/docker/#a-python-project",
              "title": "A Python Project",
              "children": [
                {
                  "level": 3,
                  "id": "flask",
                  "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/docker/#flask",
                  "title": "Flask",
                  "children": []
                }
              ]
            },
            {
              "level": 2,
              "id": "docker",
              "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/docker/#docker",
              "title": "Docker",
              "children": [
                {
                  "level": 3,
                  "id": "writing-a-dockerfile",
                  "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/docker/#writing-a-dockerfile",
                  "title": "Writing a Dockerfile",
                  "children": []
                },
                {
                  "level": 3,
                  "id": "running-a-container",
                  "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/docker/#running-a-container",
                  "title": "Running a Container",
                  "children": []
                }
              ]
            },
            {
              "level": 2,
              "id": "github-actions",
              "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/docker/#github-actions",
              "title": "GitHub Actions",
              "children": []
            },
            {
              "level": 2,
              "id": "deployment-portainer",
              "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/docker/#deployment-portainer",
              "title": "Deployment (Portainer)",
              "children": []
            },
            {
              "level": 2,
              "id": "bonus-persistent-data-with-volumes",
              "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/docker/#bonus-persistent-data-with-volumes",
              "title": "Bonus: Persistent Data with Volumes",
              "children": []
            },
            {
              "level": 2,
              "id": "the-end",
              "permalink": "https://owen.sites.uwcs.co.uk/uwcs/resources/docker/#the-end",
              "title": "The End*",
              "children": []
            }
          ],
          "word_count": 2722,
          "reading_time": 14,
          "assets": [],
          "draft": false,
          "lang": "en",
          "lower": null,
          "higher": null,
          "translations": [],
          "backlinks": []
        },
        "higher": null,
        "translations": [],
        "backlinks": []
      }
    ],
    "subsections": [
      "resources/linux-101/_index.md",
      "resources/git-good/_index.md"
    ],
    "translations": [],
    "backlinks": [],
    "generate_feed": false
  }
}`)
</script>
<body class="min-vh-100 viewport-width-100 vstack">
  
<nav class="w-100 navbar sticky-top navbar-expand-lg bg-body border-bottom border-primary border-4" style="min-width: fit-content">
    <div class="container-lg align-items-center">
      
      <!-- UWCS Logo -->
      <a class="navbar-brand" href="https://owen.sites.uwcs.co.uk/uwcs">
        
<svg height="32" viewBox="0 0 449 152" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M148.879 92.6014C150.101 93.8519 151.57 94.8334 153.192 95.4832C154.815 96.133 156.554 96.4367 158.3 96.375C159.978 96.4362 161.65 96.1334 163.2 95.4875C164.75 94.8416 166.143 93.8678 167.282 92.6329C169.686 89.8626 170.925 86.2668 170.737 82.6013V43.7329H187.978V82.6013C188.07 87.8494 186.792 93.0307 184.272 97.6329C181.886 101.915 178.277 105.386 173.908 107.602C169.031 110.013 163.644 111.21 158.206 111.092C152.707 111.212 147.26 110.015 142.316 107.602C137.896 105.39 134.226 101.923 131.764 97.6329C129.215 93.0416 127.936 87.8527 128.058 82.6013V43.7329H145.299V82.6013C145.202 84.4228 145.468 86.2456 146.083 87.9627C146.697 89.6798 147.648 91.2569 148.879 92.6014V92.6014Z" fill="var(--bs-body-color)"/>
<path d="M290.01 43.7329H307.722L285.393 109.771H267.681L255.12 64.7709L242.558 109.771H224.72L202.486 43.7329H221.046L234.048 92.0353L247.08 43.7329H263.944L277.134 92.0353L290.01 43.7329Z" fill="var(--bs-body-color)"/>
<path d="M362.46 59.7079C359.787 58.1846 356.773 57.3625 353.698 57.318C350.49 57.2783 347.335 58.1389 344.591 59.8023C341.919 61.4933 339.75 63.8718 338.31 66.6892C336.761 69.7104 335.954 73.0575 335.954 76.4534C335.954 79.8494 336.761 83.1965 338.31 86.2177C339.75 89.0351 341.919 91.4135 344.591 93.1046C347.333 94.7774 350.487 95.6488 353.698 95.6203C356.642 95.5619 359.538 94.8532 362.177 93.5448C365.137 92.1555 367.819 90.2373 370.091 87.8844L380.172 98.7335C376.537 102.536 372.195 105.592 367.39 107.727C362.296 110.128 356.703 111.275 351.076 111.073C345.449 110.871 339.953 109.325 335.044 106.564C329.817 103.658 325.475 99.3869 322.482 94.2052C319.436 88.8659 317.874 82.8065 317.96 76.6578C317.867 70.6248 319.428 64.6818 322.473 59.4754C325.518 54.269 329.932 49.9987 335.232 47.1292C340.211 44.4723 345.722 42.9687 351.358 42.7292C356.995 42.4898 362.613 43.5206 367.798 45.7456C372.383 47.6639 376.521 50.5119 379.952 54.1104L369.965 66.186C367.926 63.5409 365.373 61.3371 362.46 59.7079V59.7079Z" fill="var(--bs-body-color)"/>
<path d="M431.172 58.5447C427.955 57.3689 424.576 56.7006 421.154 56.5636C419.393 56.47 417.641 56.8731 416.098 57.7271C415.513 58.0872 415.035 58.5983 414.714 59.2069C414.394 59.8155 414.243 60.4991 414.277 61.1863C414.264 61.8695 414.401 62.5473 414.678 63.172C414.954 63.7968 415.364 64.3533 415.878 64.8027C417.036 65.8323 418.379 66.6326 419.835 67.1612C421.405 67.7587 423.729 68.5448 426.807 69.4882C430.669 70.5558 434.457 71.8795 438.144 73.4506C441.175 74.7983 443.82 76.8849 445.838 79.5198C448.065 82.636 449.172 86.416 448.978 90.2432C449.093 94.2788 447.867 98.2383 445.492 101.501C443.078 104.692 439.812 107.134 436.071 108.545C431.755 110.166 427.176 110.965 422.567 110.904C416.989 110.879 411.455 109.901 406.206 108.011C401.079 106.267 396.311 103.603 392.137 100.149L398.826 86.6583C402.328 89.7246 406.319 92.1801 410.634 93.9225C414.453 95.6428 418.57 96.604 422.756 96.7527C424.869 96.8649 426.971 96.3742 428.817 95.3376C429.526 94.9096 430.107 94.2984 430.5 93.568C430.892 92.8377 431.081 92.0152 431.046 91.1866C431.059 90.4743 430.917 89.7678 430.63 89.1161C430.342 88.4644 429.916 87.8833 429.382 87.413C428.175 86.338 426.765 85.5148 425.237 84.9916C423.572 84.3941 421.248 83.7023 418.234 82.8847C414.413 81.8642 410.667 80.5824 407.022 79.0481C404.05 77.7483 401.441 75.7403 399.422 73.199C397.197 70.2014 396.086 66.5201 396.282 62.7901C396.174 58.9637 397.273 55.2005 399.422 52.0353C401.754 48.8198 404.959 46.3422 408.655 44.8968C413.083 43.1554 417.812 42.311 422.567 42.4125C427.35 42.4065 432.108 43.0842 436.699 44.4251C441.022 45.6375 445.148 47.4699 448.947 49.8654L442.446 63.6391C438.88 61.5439 435.101 59.8361 431.172 58.5447V58.5447Z" fill="var(--bs-body-color)"/>

<circle fill="#FFC700" cx=57 cy=21 r=21 />
<circle fill="#FFC700" cx=21 cy=57 r=21 />
<circle fill="#3A7DFF" cx=57 cy=95 r=21 />
<circle fill="#3A7DFF" cx=93 cy=131 r=21 />

</svg>

      </a>

      <!-- Navbar parts for mobile version -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor03"
        aria-controls="navbarColor03" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarColor03">
        <ul class="navbar-nav d-flex w-100">
          
          <!-- Include links to top level sections -->
          
          
          
          <li><a class="nav-link" href="https://owen.sites.uwcs.co.uk/uwcs/admin/">Admin</a></li>
          
          
          <li><a class="nav-link" href="https://owen.sites.uwcs.co.uk/uwcs/news/">News</a></li>
          
          
          <li><a class="nav-link" href="https://owen.sites.uwcs.co.uk/uwcs/events/">Events</a></li>
          
          
          <li><a class="nav-link" href="https://owen.sites.uwcs.co.uk/uwcs/resources/">Resources</a></li>
          
          
          <li><a class="nav-link" href="https://owen.sites.uwcs.co.uk/uwcs/sponsors/">Sponsors</a></li>
          

          <!-- Dark mode toggles -->
          <div class="vr ms-md-auto d-none d-lg-block "></div>
          <li class="nav-item ms-lg-2">
            <a id="dark-mode" class="nav-link ml-1" href="#">
              <i class="ph-fill ph-moon"></i>
              <span class="d-lg-none ms-2 ms-lg-0">Toggle Dark Mode</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  
  
<!-- Hacky way for this to work on sections and pages -->




<!-- Don't trigger on top level -->


  
  <div id="main" class="container-lg w-100 d-flex flex-column flex-md-row p-0 flex-grow-1 gap-3 bg-body px-4">
    
    <article id="content" class="col-md-9 py-4 flex-grow-1">
      <h1> Resources  </h1>
      

<p>This page is a hub for most of our academic resources. Some are listed below, and you can find quick links to sub-pages along the sidebar.</p>
<hr />
<h1 id="courses">Courses</h1>
<h3 id="rust-term-1-weeks-2-5"><a href="https://rs118.uwcs.co.uk">Rust</a> (Term 1, Weeks 2-5)</h3>
<p>Supported by a grant from the Rust foundation, this four-week course introduces Rust to those already familiar with another programming language. Throughout the course, you'll be developing some cool projects - starting with Tic-Tac-Toe in the command line, then writing a Chip-8 Interpreter, before finishing off with a Graphics Raytracing project. Runs in Term 1!</p>
<h3 id="python-term-1-weeks-1-6"><a href="https://go.uwcs.uk/python">Python</a> (Term 1, Weeks 1-6)</h3>
<p>A six-week introductory Python course, created alongside Warwick AI and Coding and running in Term 1.
We're responsible for Week 1 (Variables, Datatypes, &amp; Debugging) and Week 6 (Efficiency, Compactness, Readability). Clearly saving the best for first and last! We also worked jointly with AI to create &quot;Wahoot&quot;, the overarching project.</p>
<p>Looking for booster sessions? We run them with ChemSoc in Term 1, and PhysSoc in Term 2, tailoring the content to meet their course.</p>
<p>We'd also recommend checking out <a href="https://howtoprogram.dcs.warwick.ac.uk">this tutorial</a> from the Department of Computer Science as a good starting point.</p>
<hr />
<h1 id="workshops-labs">Workshops / Labs</h1>
<h3 id="linux-101"><a href="https://owen.sites.uwcs.co.uk/uwcs/resources/linux-101">Linux 101</a></h3>
<p><em>(DCS Only)</em> In partnership with the Department of Computer Science, this talk and accompanying lab serves as a short introduction to the Linux command line and departmental machines. We cover navigation, file/folder creation/deletion, permissions, and storage/printing quotas. By the end of this lab, you should be able to host your own public page on the DCS website!</p>
<h3 id="git-good"><a href="https://owen.sites.uwcs.co.uk/uwcs/resources/git-good">Git Good</a></h3>
<p>Git is an essential version control tool, used across the software engineering industry - from small solo projects to the world's largest tech companies. You might have used it before, but here we'll really dive in to how it works, why it's so useful, and how you can use it in your own projects going forward. Talk by Sam Coy, with an accompanying lab.</p>
<h3 id="docker-contained"><a href="https://owen.sites.uwcs.co.uk/uwcs/resources/docker">Docker, Contained</a></h3>
<hr />
<h1 id="contests">Contests</h1>
<h3 id="uwcs-challenge"><a href="https://challenge.uwcs.co.uk">UWCS Challenge</a></h3>
<p>In both teaching terms, we run our own team programming challenge. 5 custom problems, in teams of up to 3, with prizes for the top 3 teams! Past problems can be found <a href="https://github.com/UWCS/progcomps/releases">here</a>. We've also designed our own online judge for automatic marking - <a href="https://challenge.uwcs.co.uk">try it out</a>!</p>
<h3 id="other-coding-competitions">Other Coding Competitions</h3>
<p>We promote and encourage participation in events like Advent of Code, the International Collegiate Programming Contest (ICPC), and <del>Google Hash Code</del> (rip). We also invite companies in to give their own programming challenges, such as G-Research.</p>
<h3 id="capture-the-flag-ctf-events">Capture The Flag (CTF) Events</h3>
<p>We've hosted CTFs from both Nettitude and BAE Systems. The Cyber Security society also host a few of their own!</p>
<hr />
<h1 id="talks">Talks</h1>
<p>We upload most past talks to our <a href="https://www.youtube.com/@warwickcomputing">YouTube</a> channel.</p>
<h3 id="lightning-talks">Lightning Talks</h3>
<p>Hosted twice every term - sessions of three 15-minute student talks across a wide array of computing-related topics. Check out the play-list below! We're always happy to accept new talks, so get in touch if you think you've got a cool idea.</p>


<div class="ratio ratio-16x9 m-3 w-75 mx-auto ">
    <iframe src="https://www.youtube-nocookie.com/embed/videoseries?list=PLM7py5yAB4FxS3FzpBD4BA29M6Ue5qyVe" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
</div><h3 id="third-year-project-talks">Third Year Project Talks</h3>
<p>We gathered a bunch of third year students with projects covering a range of different areas across the field, and convinced them to present their projects to you! Topics included machine learning, virtual reality, algorithms, computer security, and general software engineering. Each talk was followed by a Q&amp;A, with tips and advice offered throughout. Thanks to the Department of Computer Science, and especially Greg, for supporting the event!</p>


<div class="ratio ratio-16x9 m-3 w-75 mx-auto ">
    <iframe src="https://www.youtube-nocookie.com/embed/0NJa_eU88so" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
</div><h3 id="industry-talks">Industry Talks</h3>
<p>We also offer longer talks from industry professionals, across a wide range of companies. Check out Leo's 'Day in the life of a Software Engineer' talk below!</p>


<div class="ratio ratio-16x9 m-3 w-75 mx-auto ">
    <iframe src="https://www.youtube-nocookie.com/embed/videoseries?list=PLM7py5yAB4FyUtnZ26D9uikX0DhhwyoTg" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
</div>
<hr />
<h2 id="misc">Misc</h2>
<h4 id="discord-guide"><a href="https://uwcs.co.uk/documents/9/UWCS_Discord_Guide.pdf">Discord Guide</a></h4>
<p>For those who need help navigating around Discord, a previous cohort of exec made this comprehensive guide to the platform and our server.</p>
<h4 id="remoting-into-dcs"><a href="https://uwcs.co.uk/resources/remotedcs/">Remoting into DCS</a></h4>
<p><em>(DCS Only)</em> A brief guide on how to remotely connect to the Department of Computer Science Linux PCs via the command line.</p>


<hr>

<div class="posts p-2 gap-3 vstack">
    
      <!-- Card for each page -->
      





<div class="card w-100 col-lg link-card " >
  <div class="card-body">
    <h5 class="card-title two-line-clamp">Docker, Contained</h5>
    
    
    <h6 class="card-subtitle mb-2 text-body-secondary">18 January 2023 </h6>
    
    
    <p class="card-text four-line-clamp m-0">
      We’re going to make a super simple web API using Python and Flask, containerise it with Docker, set up continuous integration with Github Actions, and then deploy it using Docker too.

A Python Project
Login to the DCS machines, create a new directory called my-flask-app and cd into it. 
We’re going to use pipenv to create a new python project. Pipenv manages dependencies and virtual environments for us, making it much more ergonomic than just using pip and virtualenvs manually. Install it with python3.9 -m pip install --user pipenv.  You can then invoke pipenv with python3.9 -m pipenv &lt;subcommand&gt;. Add Flask to your project with python 3.9 -m pipenv install flask.
There’s another dependency that we’ll need later on as well: gunicorn. Gunicorn is a Python HTTP server, and will serve our Flask app for us: pipenv install gunicorn.
Also initalise your folder as a git repo: git init.
Flask
Create a new Python file called app.py, and inside it add the following code:
from flask import…
    </p>
    
    
    
    <a class="stretched-link" href="https:&#x2F;&#x2F;owen.sites.uwcs.co.uk&#x2F;uwcs&#x2F;resources&#x2F;docker&#x2F;" class="card-link">Read more &gt;&gt;</a>
    
  </div>
</div>


    
      <!-- Card for each page -->
      





<div class="card w-100 col-lg link-card " >
  <div class="card-body">
    <h5 class="card-title two-line-clamp">Remote SSH</h5>
    
    
    <h6 class="card-subtitle mb-2 text-body-secondary">13 October 2022 </h6>
    
    
    <p class="card-text four-line-clamp m-0">
      Connection Address:
uXXXXXXX@remote-YY.dcs.warwick.ac.uk
where the X's are replaced by your full 7-digit university id, and the Y's by the last two digits of it.
Making a Connection:
The steps you need to follow at the start will slightly vary depending on your operating system.
Windows/Mac/Linux

On Windows, open up the Command Prompt (cmd). Otherwise, open the Terminal app.
Type: ssh [connection address here], and hit enter/return.

Android

Install and open Termux.
Type: pkg install openssl and hit enter/return.
If asked to confirm, answer with y
Type: ssh [connection address here], and hit enter/return.

iOS

Install and open Shelly
Click +
In SSH Server Address, type out the connection address, then tap Connect.
Tap Connect

Verification:
These steps will be similar, regardless of your device.

If you're asked about certificates, click Yes (if you want to check, the signature can be found here).
Enter your DCS password. This will have been emailed to you inside a .txt attachment i…
    </p>
    
    
    
    <a class="stretched-link" href="https:&#x2F;&#x2F;owen.sites.uwcs.co.uk&#x2F;uwcs&#x2F;resources&#x2F;remote&#x2F;" class="card-link">Read more &gt;&gt;</a>
    
  </div>
</div>


    
</div>


    </article>
    <aside class="col-md-3 flex-grow-1 py-4">
      
      <div id="sponsors"> 
        <h2>Our Gold Sponsors</h2>

        
        
<div id="gold" class="col-lg-10 mx-auto gap-3 d-flex flex-wrap justify-content-evenly align-items-center p-3">


<a href="https:&#x2F;&#x2F;www.qube-rt.com&#x2F;">
<img class="white-hover" src="https://owen.sites.uwcs.co.uk/uwcs/sponsors&#x2F;qrt.png" style="height: 100px; max-width: 100%; object-fit: contain">
</a>



<a href="https:&#x2F;&#x2F;tpp-uk.com&#x2F;">
<img class="white-hover" src="https://owen.sites.uwcs.co.uk/uwcs/sponsors&#x2F;tpp.png" style="height: 100px; max-width: 100%; object-fit: contain">
</a>





<a href="https:&#x2F;&#x2F;www.nettitude.com&#x2F;">
<img class="white-hover" src="https://owen.sites.uwcs.co.uk/uwcs/sponsors&#x2F;nettitude.png" style="height: 100px; max-width: 100%; object-fit: contain">
</a>



<a href="https:&#x2F;&#x2F;www.gresearch.co.uk&#x2F;join-us&#x2F;">
<img class="white-hover" src="https://owen.sites.uwcs.co.uk/uwcs/sponsors&#x2F;gresearch.png" style="height: 100px; max-width: 100%; object-fit: contain">
</a>



<a href="https:&#x2F;&#x2F;www.studentroost.co.uk&#x2F;locations&#x2F;warwick&#x2F;the-oaks">
<img class="white-hover" src="https://owen.sites.uwcs.co.uk/uwcs/sponsors&#x2F;oaks.png" style="height: 100px; max-width: 100%; object-fit: contain">
</a>


</div>

      </div>
      
    </aside>
    
<script>
    function equalize_visual_size(elem_id, area) {
        const elem = document.getElementById(elem_id)
        for (let s of elem.children) {
            s = s.children[0];
            const h = s.height * Math.sqrt(area / (s.width * s.height)) 
            s.style.height = `${Math.round(h)}px` 
        }
    }
    
    window.addEventListener('load', function () {
        equalize_visual_size("gold", 11000);
        
    })
</script>

    
  </div>
  
<footer class="w-100 container-lg d-flex flex-wrap justify-content-around gap-2 py-3 border-top bg-body">
    <!-- Centred aligned uwcs logo -->
    <a class="d-flex text-decoration-none" href="https://uwcs.co.uk">
      
<svg height="32" viewBox="0 0 449 152" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M148.879 92.6014C150.101 93.8519 151.57 94.8334 153.192 95.4832C154.815 96.133 156.554 96.4367 158.3 96.375C159.978 96.4362 161.65 96.1334 163.2 95.4875C164.75 94.8416 166.143 93.8678 167.282 92.6329C169.686 89.8626 170.925 86.2668 170.737 82.6013V43.7329H187.978V82.6013C188.07 87.8494 186.792 93.0307 184.272 97.6329C181.886 101.915 178.277 105.386 173.908 107.602C169.031 110.013 163.644 111.21 158.206 111.092C152.707 111.212 147.26 110.015 142.316 107.602C137.896 105.39 134.226 101.923 131.764 97.6329C129.215 93.0416 127.936 87.8527 128.058 82.6013V43.7329H145.299V82.6013C145.202 84.4228 145.468 86.2456 146.083 87.9627C146.697 89.6798 147.648 91.2569 148.879 92.6014V92.6014Z" fill="var(--bs-body-color)"/>
<path d="M290.01 43.7329H307.722L285.393 109.771H267.681L255.12 64.7709L242.558 109.771H224.72L202.486 43.7329H221.046L234.048 92.0353L247.08 43.7329H263.944L277.134 92.0353L290.01 43.7329Z" fill="var(--bs-body-color)"/>
<path d="M362.46 59.7079C359.787 58.1846 356.773 57.3625 353.698 57.318C350.49 57.2783 347.335 58.1389 344.591 59.8023C341.919 61.4933 339.75 63.8718 338.31 66.6892C336.761 69.7104 335.954 73.0575 335.954 76.4534C335.954 79.8494 336.761 83.1965 338.31 86.2177C339.75 89.0351 341.919 91.4135 344.591 93.1046C347.333 94.7774 350.487 95.6488 353.698 95.6203C356.642 95.5619 359.538 94.8532 362.177 93.5448C365.137 92.1555 367.819 90.2373 370.091 87.8844L380.172 98.7335C376.537 102.536 372.195 105.592 367.39 107.727C362.296 110.128 356.703 111.275 351.076 111.073C345.449 110.871 339.953 109.325 335.044 106.564C329.817 103.658 325.475 99.3869 322.482 94.2052C319.436 88.8659 317.874 82.8065 317.96 76.6578C317.867 70.6248 319.428 64.6818 322.473 59.4754C325.518 54.269 329.932 49.9987 335.232 47.1292C340.211 44.4723 345.722 42.9687 351.358 42.7292C356.995 42.4898 362.613 43.5206 367.798 45.7456C372.383 47.6639 376.521 50.5119 379.952 54.1104L369.965 66.186C367.926 63.5409 365.373 61.3371 362.46 59.7079V59.7079Z" fill="var(--bs-body-color)"/>
<path d="M431.172 58.5447C427.955 57.3689 424.576 56.7006 421.154 56.5636C419.393 56.47 417.641 56.8731 416.098 57.7271C415.513 58.0872 415.035 58.5983 414.714 59.2069C414.394 59.8155 414.243 60.4991 414.277 61.1863C414.264 61.8695 414.401 62.5473 414.678 63.172C414.954 63.7968 415.364 64.3533 415.878 64.8027C417.036 65.8323 418.379 66.6326 419.835 67.1612C421.405 67.7587 423.729 68.5448 426.807 69.4882C430.669 70.5558 434.457 71.8795 438.144 73.4506C441.175 74.7983 443.82 76.8849 445.838 79.5198C448.065 82.636 449.172 86.416 448.978 90.2432C449.093 94.2788 447.867 98.2383 445.492 101.501C443.078 104.692 439.812 107.134 436.071 108.545C431.755 110.166 427.176 110.965 422.567 110.904C416.989 110.879 411.455 109.901 406.206 108.011C401.079 106.267 396.311 103.603 392.137 100.149L398.826 86.6583C402.328 89.7246 406.319 92.1801 410.634 93.9225C414.453 95.6428 418.57 96.604 422.756 96.7527C424.869 96.8649 426.971 96.3742 428.817 95.3376C429.526 94.9096 430.107 94.2984 430.5 93.568C430.892 92.8377 431.081 92.0152 431.046 91.1866C431.059 90.4743 430.917 89.7678 430.63 89.1161C430.342 88.4644 429.916 87.8833 429.382 87.413C428.175 86.338 426.765 85.5148 425.237 84.9916C423.572 84.3941 421.248 83.7023 418.234 82.8847C414.413 81.8642 410.667 80.5824 407.022 79.0481C404.05 77.7483 401.441 75.7403 399.422 73.199C397.197 70.2014 396.086 66.5201 396.282 62.7901C396.174 58.9637 397.273 55.2005 399.422 52.0353C401.754 48.8198 404.959 46.3422 408.655 44.8968C413.083 43.1554 417.812 42.311 422.567 42.4125C427.35 42.4065 432.108 43.0842 436.699 44.4251C441.022 45.6375 445.148 47.4699 448.947 49.8654L442.446 63.6391C438.88 61.5439 435.101 59.8361 431.172 58.5447V58.5447Z" fill="var(--bs-body-color)"/>

<circle fill="#FFC700" cx=57 cy=21 r=21 />
<circle fill="#FFC700" cx=21 cy=57 r=21 />
<circle fill="#3A7DFF" cx=57 cy=95 r=21 />
<circle fill="#3A7DFF" cx=93 cy=131 r=21 />

</svg>

    </a>
    <!-- Right aligned links -->
    <ul class="nav justify-content-end list-unstyled d-flex">
        <li class="ms-3">
        <a class="text-muted" href="https://github.com/uwcs"><i class="bi-github"
            aria-hidden="true"></i></a>
        </li>
        <li class="ms-3">
        <a class="text-muted" href="https://discord.uwcs.co.uk"><i class="bi-discord" aria-hidden="true"></i></a>
        </li>
        <li class="ms-3">
        <a class="text-muted" href="https://uwcs.co.uk"><i class="bi-globe" aria-hidden="true"></i></a>
        </li>
    </ul>
</footer>

</body>
</html>